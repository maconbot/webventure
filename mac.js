var k=void 0;function aa(){return function(){}}function ba(a){return function(){return a}}var m,ca,da=15,ea=19,fa=1,ga;function ha(){var a=n.port.width(),b=n.port.height();ga=o([4,4,a-8,b-8],255,25,["Click to continue"]);ga.b.addClass("ctc");a=n;for(b=0;b<a.i.length;b++)a.i[b].hide();n.add(ga);p=!0}function ia(a,b,c){var d=ja(q("CNTL",128));d.o=c;c=d.b.position();d.b.css("left",c.left+a+"px");d.b.css("top",c.top+b+"px");return d}
function ka(a){for(var b="",c=0;c<a.length;c++)switch(a.charCodeAt(c)){case 13:b+="<br />";break;case 63368:b+="&#224;";break;case 63374:b+="&#233;";break;case 63401:b+="&#169;";break;case 63433:b+="...";break;case 63441:b+="&#8212;";break;default:b+=a.charAt(c)}return b}function la(){if(!s)return 3E3;return ma[s-1]}
function na(a,b){var c={top:0,left:0,width:0,height:0},d;if(d=oa(a*2+1)){c.width=d.width;c.height=d.height;if(pa(c,b,c)){a:{for(var e=c.top;e<c.top+c.height;e++)for(var f=e*d.r,i,h=c.left;h<c.left+c.width;h++)if(i=d.data[f+(h>>3)]&1<<7-(h&7)){c=!0;break a}c=!1}return c}return!1}if(d=oa(a*2))return c.width=d.width,c.height=d.height,pa(c,b,c);return!1}
function qa(a){var b={top:0,left:0,width:0,height:0},c=ra(a),d=0;c&&c.a&&(d=sa(c.a.children,a));if(d){d--;if(c.a.children[d].width==0||c.a.children[d].height==0)a=ta(a,c,!0),c.a.children[d].top=a.top,c.a.children[d].left=a.left,c.a.children[d].width=a.width,c.a.children[d].height=a.height;b.top=c.a.children[d].top;b.left=c.a.children[d].left;b.width=c.a.children[d].width;b.height=c.a.children[d].height}else(c=oa(a*2))?(b.top=t(a,2),b.left=t(a,1),b.width=c.width,b.height=c.height):(c=oa(a*2+1))?(b.top=
t(a,2),b.left=t(a,1),b.width=c.width,b.height=c.height):(b.top=0,b.left=0,b.width=0,b.height=0);return b}function ua(a){var b=oa(a*2);a=oa(a*2+1);var c=b.width,d=b.height;if(a){if(c<a.width)c=a.width;if(d<a.height)d=a.height}var e=$(document.createElement("canvas"));e.addClass("proxy");e.attr("width",c);e.attr("height",d);desktop.append(e);a?va(a,e,0,0):wa(e,0,0,e.width(),e.height(),0);xa(b,e,0,0);return e};function ya(a){for(var b in u)if(u[b].name==a){if(u[b].va==0)break;w.seek((u[b].Ia+za)*Aa,w.set);return new Ba(x(w,u[b].va))}}function Ca(a){for(var b in u)if(u[b].name==a){if(u[b].U==0)break;w.seek((u[b].da+za)*Aa,w.set);return new Ba(x(w,u[b].U))}}var u=[],w=k,Aa,za,Da;
function Ea(a,b){var c=a+b*512;w.seek(c+8,w.set);var d=y(w);y(w);var e=z(w);switch(d){case 0:for(d=0;d<e;d++){w.seek(c+512-(d+1)*2,w.set);var f=z(w);w.seek(c+f,w.set);var i=y(w);w.seek(c+f+i+1,w.set);f=A(w);Ea(a,f)}break;case 255:for(d=0;d<e;d++)if(w.seek(c+512-(d+1)*2,w.set),f=z(w),f=c+f,w.seek(f,w.set),i=y(w),i!=0){i++;i&1&&i++;y(w);var h=A(w),g=y(w);g=x(w,g);w.seek(f+i,w.set);switch(z(w)){case 512:h={parent:h,name:g},w.seek(f+i+4,w.set),h.type=A(w),h.wa=A(w),w.seek(f+i+20,w.set),g=A(w),w.seek(2,
w.k),h.va=A(w),w.seek(6,w.k),h.U=A(w),w.seek(f+i+74,w.set),h.Ia=z(w),w.seek(f+i+86,w.set),h.da=z(w),u[g]=h}}break;default:fatal("Bad HFS Node")}};var Fa=[],Ga=!1;function Ha(a,b,c){this.width=a;this.height=b;this.r=c;this.J=a;this.I=b;this.data=Array(b*c)}
Ha.prototype.m=function(a,b,c){if(!(this.width==0||this.height==0)){var d=a.get(0).getContext("2d"),e=this.width,f=this.height,i=0,h=0;b<0&&(i=-b,b=0);c<0&&(h=-c,c=0);e+b>=a.width()&&(e=a.width()-b);f+c>=a.height()&&(f=a.height()-c);if(!(e==0||f==0)){a=d.getImageData(b,c,e,f);for(var g=h;g<f;g++)for(var j=g*this.r,l=(g-h)*a.width*4,r,B=i;B<e;B++)r=(r=this.data[j+(B>>3)]&1<<7-(B&7))?0:255,a.data[l++]=r,a.data[l++]=r,a.data[l++]=r,a.data[l++]=255;d.putImageData(a,b,c)}}};
function va(a,b,c,d){if(!(a.width==0||a.height==0)){var e=b.get(0).getContext("2d"),f=a.width,i=a.height,h=0,g=0;c<0&&(h=-c,c=0);d<0&&(g=-d,d=0);f+c>=b.width()&&(f=b.width()-c);i+d>=b.height()&&(i=b.height()-d);if(!(f==0||i==0)){b=e.getImageData(c,d,f,i);for(var j=g;j<i;j++)for(var l=j*a.r,r=(j-g)*b.width*4,B,v=h;v<f;v++)(B=a.data[l+(v>>3)]&1<<7-(v&7))?(b.data[r++]=255,b.data[r++]=255,b.data[r++]=255,b.data[r++]=255):r+=4;e.putImageData(b,c,d)}}}
function xa(a,b,c,d){if(!(a.width==0||a.height==0)){var e=b.get(0).getContext("2d"),f=a.width,i=a.height,h=0,g=0;c<0&&(h=-c,c=0);d<0&&(g=-d,d=0);f+c>=b.width()&&(f=b.width()-c);i+d>=b.height()&&(i=b.height()-d);if(!(f==0||i==0)){b=e.getImageData(c,d,f,i);for(var j=g;j<i;j++)for(var l=j*a.r,r=(j-g)*b.width*4,B,v=h;v<f;v++)(B=a.data[l+(v>>3)]&1<<7-(v&7))?(b.data[r++]^=255,b.data[r++]^=255,b.data[r++]^=255,b.data[r++]=255):r+=4;e.putImageData(b,c,d)}}}
Ha.prototype.T=function(a,b){return(this.data[b*this.r+(a>>3)]&1<<7-(a&7))!=0};function wa(a,b,c,d,e,f){a=a.get(0).getContext("2d");for(var i=a.getImageData(b,c,d,e),h=0;h<e;h++)for(var g=h*i.width*4,j=f?0:255,l=0;l<d;l++)i.data[g++]=j,i.data[g++]=j,i.data[g++]=j,i.data[g++]=255;a.putImageData(i,b,c)}
function Ia(a){var b=new Ha(512,302,64),c=Array(72);a.seek(512,a.set);for(var d=0,e=0;e<b.I;e++){for(var f=0;f<72;){var i=y(a);if(i!=128)if(i&128){i^=255;i+=2;for(var h=y(a),g=0;g<i;g++)c[f++]=h}else{i++;for(g=0;g<i;g++)c[f++]=y(a)}}for(g=0;g<64;g++)b.data[d++]=c[g]}return b}function Ja(){var a=Ka(131),b=Ca(a),c;if(b!=k){b=La(b);var d=q("PPIC",0);d!=k&&(c=Ma(d));delete Na[b];Na.splice(b,1)}c==k&&(c=Ia(ya(a)));return c};function La(a){Na.push(a);return Na.length-1}function q(a,b){for(var c=a.charCodeAt(0)<<24|a.charCodeAt(1)<<16|a.charCodeAt(2)<<8|a.charCodeAt(3),d=Na.length-1;d>=0;d--){var e=Na[d];e.seek(0,e.set);var f=A(e),i=A(e);e.seek(i+24,e.set);i+=z(e);e.seek(i,e.set);for(var h=z(e)+1,g=0;g<h;g++){if(A(e)==c){c=z(e)+1;e.seek(i+z(e),e.set);for(g=0;g<c;g++){if(z(e)==b)return e.seek(2,e.k),f+=A(e)&16777215,e.seek(f,e.set),f=A(e),new Ba(x(e,f));e.seek(10,e.k)}return}e.seek(4,e.k)}}}
function Ka(a){a=q("STR ",a);if(a==k)return"";var b=y(a);return x(a,b)}function Oa(a,b){if(b==0)return"";var c=q("STR#",a);if(c==k)return"";var d=z(c);if(b>d)return"";for(;;){b--;if(b==0)return d=y(c),x(c,d);d=y(c);c.seek(d,c.k)}}function ja(a){var b=z(a),c=z(a),d=z(a)-b,e=z(a)-c;z(a);y(a);y(a);z(a);z(a);var f=z(a),i=A(a),h=y(a),g="";h!=0&&(g=x(a,h));a=[];h=0;switch(f>>4){case 0:h=10;a=[g];break;case 128:h=25,a=[g]}return o([c,b,e,d],i,h,a)}var Na=[];function Pa(a){var b=z(a);a.seek(12,a.k);var c=y(a),d="";c!=0&&(d=x(a,c));c==1&&(d="");C={id:b};C.b=$(document.createElement("div"));d==""?C.b.addClass("apple"):C.b.html(d);C.b.data("refCon",C);C.b.mousedown(function(a){if(p)return!1;Qa(a);return!1});C.p=$(document.createElement("table"));C.p.addClass("menu");C.body=$(document.createElement("tbody"));C.p.append(C.body);C.s=[];Ra.append(C.b);Sa.push(C);for(c=0;;){var e=y(a);if(e==0)break;d="";e!=0&&(d=ka(x(a,e)));y(a);e=y(a);y(a);y(a);e=e!=0?String.fromCharCode(e):
"";Ta(d,b<<8|c,e);c++}};var Ua=1,Va=18,Wa=18,Xa=2,Ya=15,$a=15,ab=15,bb=15,cb=2,db=15,eb=15,fb=15,gb=0;function hb(){var a=q(Oa(129,1),0),b=y(a);a=ka(x(a,b));b=ib(146,96,220,150);b.add(o([75,120,70,18],1,10,["Ok"]));b.add(o([20,30,180,40],2,15,[a]));b.add(o([20,80,180,40],3,15,["WebVenture <br/> &#169; 2011 Sean Kasun"]));b.getItem(2).b.css("text-align","center");b.getItem(3).b.css("text-align","center");return b}
function jb(){var a=ib(146,96,220,120);a.add(o([75,90,70,18],1,10,["Ok"]));a.add(o([55,55,110,14],2,24,[0,0,100]));a.add(o([20,25,180,20],3,15,["Sound Volume"]));a.getItem(3).b.css("text-align","center");return a}function kb(a){a=ka(Oa(128,[8,9,7][a]));var b=lb(q("ALRT",131));b.param([a]);return b}function mb(){var a=ib(82,71,348,200);a.add(o([256,138,80,18],1,10,["Open"]));a.add(o([256,163,80,18],2,10,["Cancel"]));a.add(o([12,39,218,146],3,23,[]));return a}
function nb(){var a=ib(104,79,304,184);a.add(o([218,132,70,18],1,10,["Save"]));a.add(o([218,158,70,18],2,10,["Cancel"]));a.add(o([14,136,183,16],5,15,["Save as:"]));a.add(o([17,157,177,16],3,17,[""]));a.add(o([14,29,183,98],4,23,[]));return a}function pb(){var a;a=D.left;for(var b=D.top,c=0;c<D.Q;c++){a+=D.ya;b+=D.za;if(b>=388)b=D.top;if(a>=628)a=D.left}D.Q++;a={top:b,left:a,width:D.width,height:D.height};a=qb("zoomDoc",!0,!0,!0,!0,a.left,a.top,a.width,a.height);a.h=14;return a}
function rb(){var a=q("GNRL",129);z(a);var b=z(a),c=z(a),d=z(a),e=z(a)-c;a=z(a)-d;c=o([d,c,a,e],5,17,[""]);c.b.css("text-align","center");c.b.css("font-size",b+"px");c.b.css("line-height",e+"px");return c}
function sb(a){var b=z(a),c=z(a),d=z(a)-b,e=z(a)-c,f="",i=!1;switch(z(a)){case 0:f="document";break;case 1:f="dBox";break;case 2:f="plainDBox";break;case 3:f="altDBox";break;case 4:f="noGrowDoc";break;case 5:f="movableDBox";break;case 8:f="zoomDoc";i=!0;break;case 12:f="zoomNoGrow";i=!0;break;case 16:f="rDoc16";break;case 18:f="rDoc4";break;case 20:f="rDoc6";break;case 22:f="rDoc10"}z(a);var h=z(a)!=0;A(a);var g=y(a),j="";g!=1&&(j=ka(x(a,g)));a=qb(f,h,i,!1,!1,c,b,e,d);tb(a,j);return a}
function lb(a){var b=z(a),c=z(a),d=z(a)-b,e=z(a)-c,f=z(a);a=ib(c,b,e,d);f=q("DITL",f);for(var i=z(f)+1,h=0;h<i;h++){A(f);b=z(f);c=z(f);d=z(f)-b;e=z(f)-c;var g=y(f),j=y(f),l="";j>0&&(l=ka(x(f,j)));j&1&&y(f);switch(g&127){case 4:a.add(o([c,b,e,d],h+1,10,[l]));break;case 8:a.add(o([c,b,e,d],h+1,15,[l]));break;case 16:a.add(o([c,b,e,d],h+1,17,[l]));break;default:fatal("Unknown DITL:"+(g&127))}}return a}
function ub(a){var b=z(a),c=z(a),d=z(a)-b,e=z(a)-c,f="",i=!1;switch(z(a)){case 0:f="document";break;case 1:f="dBox";break;case 2:f="plainDBox";break;case 3:f="altDBox";break;case 4:f="noGrowDoc";break;case 5:f="movableDBox";break;case 8:f="zoomDoc";i=!0;break;case 12:f="zoomNoGrow";i=!0;break;case 16:f="rDoc16";break;case 18:f="rDoc4";break;case 20:f="rDoc6";break;case 22:f="rDoc10"}y(a);y(a);var h=y(a)!=0;y(a);A(a);var g=z(a),j=y(a),l="";j!=1&&(l=ka(x(a,j)));a=q("DITL",g);i=qb(f,h,i,!1,!1,c,b,e,
d);tb(i,l);i.h=2;h=z(a)+1;for(g=0;g<h;g++)switch(A(a),b=z(a),c=z(a),d=z(a)-b,e=z(a)-c,f=y(a),j=y(a),l="",j>0&&(l=ka(x(a,j))),j&1&&y(a),f&127){case 4:i.add(o([c,b,e,d],g+1,10,[l]));break;case 8:i.add(o([c,b,e,d],g+1,15,[l]));break;case 16:i.add(o([c,b,e,d],g+1,17,[l]));break;default:fatal("Unknown DITL:"+(f&127))}return i};function vb(a){var b=wb(4,a);a=new Ba(b);var c=k;switch(b.charCodeAt(5)&255){case 16:var d=[];a.seek(408,a.set);for(var e=0;e<16;e++)d[e]=y(a);var f=A(a)*2;z(a);e=A(a)*22100/65536|0;var i=new xb(f,e),h;for(e=0;e<f;e++)e&1?h>>=4:h=y(a),i.data[e]=d[h&15];c=i;break;case 18:a.seek(12,a.set);d=z(a);a.seek(52,a.set);h=z(a)+52;a.seek(h,a.set);f=A(a)-6;z(a);e=A(a)*22100/65536|0;e=new xb(f*d,e);i=0;b=a.seek(226,a.set)+226;for(c=0;c<d;c++){a.seek(b+c*2,a.set);var g=z(a);a.seek(h+10,a.set);for(var j=0;j<f;j++){var l=
y(a);l&128?(l-=128,l*=g,l=l>>8&255,l&128&&(l=127),l+=128):(l=(l^255)+1,l-=128,l*=g,l=l>>8&255,l&128&&(l=127),l+=128,l=(l^255)+1);e.data[i++]=l}}c=e;break;case 24:d=[];a.seek(594,a.set);for(e=0;e<16;e++)d[e]=y(a);h=A(a)*2;z(a);e=A(a)*22100/65536|0;i=new xb(h,e);for(e=0;e<h;e++)e&1?f>>=4:f=y(a),i.data[e]=d[f&15];c=i;break;case 26:d=[];a.seek(544,a.set);for(f=0;f<16;f++)d[f]=y(a);h=A(a);z(a);f=A(a)*22100/65536|0;i=new xb(h,f);for(f=0;f<h;f++)f&1?e>>=4:e=y(a),i.data[f]=d[e&15];c=i;break;case 68:a.seek(94,
a.set);d=A(a);h=A(a)*22100/65536|0;h=new xb(d,h);for(f=0;f<d;f++)h.data[f]=y(a);c=h;break;case 120:d=[];a.seek(186,a.set);for(f=0;f<16;f++)d[f]=y(a);A(a);h=A(a);f=A(a)*22100/65536|0;e=new xb(h,f);for(f=0;f<h;f++)f&1?i<<=4:i=y(a),e.data[f]=d[i>>4&15];c=e;break;case 126:h=[];a.seek(194,a.set);for(e=0;e<16;e++)h[e]=y(a);A(a);f=A(a);e=A(a)*22100/65536|0;i=new xb(f,e);b=128;for(e=0;e<f;e++)e&1?d<<=4:d=y(a),b+=h[d>>4&15],i.data[e]=b&255;c=i}if(c==k)return 0;yb&&!zb&&c.play();return c.C/c.P};function Ba(a){this.set=0;this.k=1;this.end=2;this.data=a;this.length=a.length;this.q=this.j=0}function y(a){return a.data.charCodeAt(a.j++)&255}function z(a){var b=(a.data.charCodeAt(a.j++)&255)<<8;b|=a.data.charCodeAt(a.j++)&255;return b}function Ab(a){var b=(a.data.charCodeAt(a.j++)&255)<<16;b|=(a.data.charCodeAt(a.j++)&255)<<8;b|=a.data.charCodeAt(a.j++)&255;return b}
function A(a){var b=(a.data.charCodeAt(a.j++)&255)<<24;b|=(a.data.charCodeAt(a.j++)&255)<<16;b|=(a.data.charCodeAt(a.j++)&255)<<8;b|=a.data.charCodeAt(a.j++)&255;return b}function Bb(a){var b=(a.data.charCodeAt(a.j)&255)<<24;b|=(a.data.charCodeAt(a.j+1)&255)<<16;b|=(a.data.charCodeAt(a.j+2)&255)<<8;b|=a.data.charCodeAt(a.j+3)&255;return b}Ba.prototype.seek=function(a,b){switch(b){case this.k:a+=this.j;break;case this.end:a+=this.length}this.j=a};
function x(a,b){var c=a.j;a.j+=b;return a.data.substring(c,a.j)}Ba.prototype.f=function(a){var b=Bb(this);b>>>=32-this.q-a;b&=(1<<a)-1;this.q+=a;this.q&16&&(this.q&=15,this.j+=2);return b};function Cb(){if(w!=k){E=0;for(var a,b=1;a==k&&b<5;b++)a:{for(var c=a=0,d=0;d<4;d++)a|="APPL".charCodeAt(d)<<24-d*8,c|=("MCV"+b).charCodeAt(d)<<24-d*8;for(d in u)if(u[d].type==a&&u[d].wa==c){w.seek((u[d].da+za)*Aa,w.set);a=new Ba(x(w,u[d].U));break a}a=k}La(a);ca.remove();delete ca;b=Oa(129,2);a=Ca(b);a!=k?(a=La(a),b=Ma(q("PPIC",0)),delete Na[a],Na.splice(a,1)):b=Ia(ya(b));Db=qb("plainDBox",!1,!1,!1,!1,0,0,512,342);Db.show();b.m(Db.port,0,0);for(b=0;b<5;b++){c=Oa(129,b+4);a=b;c=ya(c);d={Ja:0,ea:!1};
c.seek(0,c.set);var e=c.length,f=A(c),i=k;if(f&2147483648){f&=2147483647;d.ea=!0;c.seek(f,c.set);d.N=z(c);e=Array(16);i=Array(16);for(var h=0;h<15;h++)e[h]=z(c);for(h=0;h<16;h++)i[h]=y(c);d.ga=Array(d.N);d.fa=Array(d.N);var g=0,j=k;for(h=0;h<d.N;h++){if((h&63)==0){c.seek(f+(h>>6)*6+48,c.set);var l=Ab(c);j=Ab(c);g=l&7;c.seek(f+(l>>3),c.set)}d.ga[h]=j;l=A(c)>>>16-g&65535;c.seek(-4,c.k);var r;for(r=0;r<16;r++)if(e[r]>l)break;l=i[r];g+=l&15;g&16&&(g&=15,c.seek(2,c.k));l>>=4;r=0;l&&(r=Bb(c),l--,l==0?r=
0:r>>>=32-l-g,r&=(1<<l)-1,r|=1<<l,g+=l,g&16&&(g&=15,c.seek(2,c.k)),j+=r);d.fa[h]=r}i=f-4}else e-=4,i=e,d.xa=f,d.N=e/f|0;c.seek(4,c.set);d.data=x(c,i);Eb[a]=d}b=q("GNRL",128);Fb=z(b);Gb=z(b);Jb=z(b);Kb=z(b);Lb=z(b);z(b);D={};D.top=z(b);D.left=z(b);D.height=z(b);D.width=z(b);D.za=z(b);D.ya=z(b);D.Q=0;z(b);z(b);Mb=Array(Kb);for(a=0;a<Kb;a++)Mb[a]=y(b);Nb=Array(Kb);for(a=0;a<Kb;a++)Nb[a]=z(b);Ob=Array(Kb);for(a=0;a<Kb;a++)Ob[a]=y(b);ma=Array(Jb);for(a=0;a<Jb;a++)ma[a]=y(b);Pb=Array(Jb);for(a=0;a<Jb;a++)Pb[a]=
y(b);Qb=[];Rb();F=[];G=[];Sb=[];Tb=[];H=Array(Fb*2);a=q("GNRL",131);if(a!=k){c={};c.length=z(a);z(a);c.ba=Array(c.length);for(b=0;b<c.length-1;b++)c.ba[b]=z(a);c.aa=Array(c.length);for(b=0;b<c.length;b++)c.aa[b]=y(a);c.ca=Array(c.length);for(b=0;b<c.length;b++)c.ca[b]=y(a);c!=k&&(Ub=c,Vb=!1)}n=sb(q("WIND",128));n.h=9;n.addClass("commands");for(b=0;b<Jb;b++)Pb[b]&&n.add(ja(q("CNTL",129+b)));I=sb(q("WIND",129));I.h=10;J=sb(q("WIND",130));J.h=11;K=$(document.createElement("div"));K.addClass("textEdit");
b=J;a=K;c=b.port.attr("width");d=b.port.attr("height");b.port.remove();a.css("top","0px");a.css("left","0px");a.css("width",c+"px");a.css("height",d+"px");b.port=a;b.c.append(a);J.A=!0;Wb(J);Xb=sb(q("WIND",131));Xb.h=12;Xb.a={id:0,x:0,y:0,children:[{id:1,top:0,left:0,width:0,height:0}]};L=sb(q("WIND",132));L.h=13;L.addClass("exits");Ra=$(document.createElement("div"));Ra.addClass("menubar");for(b=128;b<=133;b++)Pa(q("MENU",b));C=Sa[0];Ta("Adjust Volume...",2304,"");tb(J,Oa(128,1));if(gameparts.length>
1)Yb=gameparts[1],b=window.JSON.parse(window.localStorage.getItem(Yb).toString()),Zb=b.Z,$b=b.$,K.html(b.text),tb(J,Yb);else{b=ya(Ka(133));Zb=Array(Lb);$b=Array(Gb);for(a=0;a<Lb;a++){Zb[a]=Array(Fb);for(c=0;c<Fb;c++)Zb[a][c]=z(b)}for(a=0;a<Gb;a++)$b[a]=z(b)}ac();Yb==""&&(M=!0,s=1,N.push(t(1,0)));setTimeout(bc,500)}else setTimeout(Cb,10)}function ac(){for(var a,b,c=0;c<Fb*2;c++)H[c]=0;for(c=Fb-1;c;c--)a=Zb[0][c],(b=H[a*2])&&(H[c*2+1]=b),H[a*2]=c}
function cc(){for(var a=[],b=0;b<O.length;b++)(O[b].h==10||O[b].h==14)&&a.push(O[b]);for(b in a)dc(a[b]);D.Q=0;G=[];Sb=[];Tb=[];Qb=[]}var H;function bc(){P(Db);delete Db;desktop.append(Ra);n.show();Xb.show();Q(Xb);L.show();J.show();I.show();E=1;ec=K.get(0).scrollHeight;K.scrollTop(ec-ec%da);fc(t(1,0),6,1);R=!1;S()};var E=0,R=!1,ec=0,F,N,s=k,M=!1,gc,hc,ma,Pb,Qb,G,Sb,Tb,Db,ic,I,n,J,Xb,L,K,Fb,Gb,Jb,Kb,Lb,Ob,Nb,Mb,D,Zb,$b,jc,T,U,Yb="";function kc(){}var lc=!1,mc=!1,nc=!1,p=!1,V=k;function S(){if(E==4)window.location="index.html";else{lc||oc(!1);if(M||lc){lc=!1;if(pc()){p=lc=!0;return}p=!1;if(oc(!0))return;qc()}(E==2||E==3)&&sc()}}
function pc(){if(mc){mc=!1;if(tc(!1))return mc=!0;return!1}if(nc){nc=!1;if(tc(!1))return nc=!0;if(oc(!0))return!0}for(;N.length;){var a=N.shift();if((E==0||E==1)&&uc(a)){if(vc(s,a,T,U))return nc=!0;if(oc(!0))return!0}}if(s==1)R=!1;else if((E==0||E==1)&&vc(3,s,T,U))return mc=!0;return!1}
function uc(a){if(!wc(a))return!1;if(la()>=2&&T>0&&!wc(T))return!1;if(s!=5)return!0;if(!(t(a,3)==0&&t(a,4)==0&&t(a,5)==0))return!1;if(t(1,0)!=T)return!0;var b={top:0,left:0,width:I.port.width(),height:I.port.height()};b.top-=t(a,2)+U.e;b.left-=t(a,1)+U.d;return na(a,b)}function wc(a){for(var b=t(1,0);a!=0&&a!=1&&a!=b;)a=t(a,0);return a}function oc(a){xc();var b=yc();zc(a)&&(b=!0);return b}
function sc(){if(E==2){Ac();var a=Ja();ic=sb(q("WIND",133));ic.show();a.m(ic.port,0,0);Bc();E=4}else if(E==3){qc();var b=lb(q("ALRT",134));b.show(function(a){P(b);switch(a){case 1:Cc();break;case 2:E=4;S();break;case 3:Dc()}})}}
function Bc(){var a=document.createElement("link");a.type="text/css";a.rel="stylesheet";a.href="print.css";a.media="print";$("head").append(a);a=ub(q("DLOG",135));p=!0;var b=rb();ic.add(b);b.b.focus();a.show(function(a){switch(a){case 1:b.b.blur();window.print();break;case 2:S()}})}
function xc(){for(;G.length;){for(var a,b=0,c=0;c<G.length;c++)if(G[c].id>b)b=G[c].id,a=c;b=G.splice(a,1)[0];switch(b.id){case 2:Ec(b.val);break;case 3:Fc(b.val);break;case 4:Gc(b.val);break;case 7:a:{c=b.val;var d=!1;b=c.b;var e=Qb.indexOf(b);e!=-1&&Qb.splice(e,1);if(b==1)c.parent!=t(b,0)&&G.push({id:12}),(c.ia!=t(b,3)||c.ha!=t(b,4))&&Q(ra(b));else if(c.parent!=t(b,0)||c.x!=t(b,1)||c.y!=t(b,2)){if(e=Hc(c.parent)){d=e;if(d.a!=k&&(e=sa(d.a.children,b),e!=0))d.a.children.splice(e-1,1),d.a.u=!0,Q(d);
d=!0}if(e=ra(b)){d=e;if(d.a!=k){e=k;for(e=0;e<d.a.children.length&&b>d.a.children[e].id;e++);if(e==d.a.children.length||b!=d.a.children[e].id)d.a.children.splice(e,0,{id:b,top:0,left:0,width:0,height:0}),d.a.u=!0,Q(d)}d=!0}}else(c.ia!=t(b,3)||c.ha!=t(b,4))&&Q(ra(b));t(b,8)&&(d||c.Ca!=t(b,11)||c.Aa!=t(b,9)||c.Ba!=t(b,10))&&Ic(b);c=Hc(b);d=b;for(e=t(1,0);d!=e;){if(d==0||!t(d,6))break;d=t(d,0)}if(d==e){if(c)break a;G.push({id:3,val:b})}else{if(!c)break a;G.push({id:4,val:b})}b=Jc(b,!0);for(e=0;e<b.length;e++)Kc(b[e])}break;
case 8:b=b.val;d=Hc(b.R);(c=e=Hc(b.K))||(c=d);if(c)d=W(b.K),tb(c,d),Lc(b.K,c),c.a.u=!0,Q(c);break;case 12:fc(I.a.id,6,0);fc(t(1,0),6,1);break;case 13:for(;F.length;)Mc(F.pop());break;case 14:Nc(b.val)}}}function Ec(a){a&&(a=Hc(a))&&Oc(a)}
function Fc(a){if(!Hc(a))if(a==t(1,0)){Lc(a,I);Q(I);Pc();var b=W(a);tb(I,b.substr(0,1).toUpperCase()+b.substr(1))}else{var c={d:t(a,1),e:t(a,2)};Qc(ra(a),c);Rc(c);b=W(a);var d=pb();tb(d,b);Lc(a,d);d.a.u=!0;var e=$(document.createElement("div"));e.addClass("zoom");desktop.append(e);e.css("top",c.e+"px");e.css("left",c.d+"px");e.css("width","0px");e.css("height","0px");e.animate({top:d.top+"px",left:d.left+"px",width:d.width+"px",height:d.height+"px"},500,"swing",function(){e.remove();d.show();Q(d)})}}
function Gc(a){var b=dc(Hc(a));if(b!=k&&(a=ra(b.b),a!=k)){var c=$(document.createElement("div"));c.addClass("zoom");desktop.append(c);c.css("top",b.top+"px");c.css("left",b.left+"px");c.css("width",b.width+"px");c.css("height",b.height+"px");b={d:t(b.b,1),e:t(b.b,2)};Qc(a,b);Rc(b);c.animate({top:b.e+"px",left:b.d+"px",width:"0px",height:"0px"},500,"swing",function(){c.remove();D.Q--})}}
function Mc(a){var b=L.find(a);b&&(F.indexOf(a)!=-1?b.select():b.O());a==t(1,0)&&(F.indexOf(a)!=-1?L.addClass("selected"):L.removeClass("selected"));Q(ra(a))}function Nc(a){desktop.append(V);var b={d:t(a,1),e:t(a,2)};Qc(ra(a),b);Rc(b);V.animate({top:b.e+"px",left:b.d+"px"},300,"swing",function(){V.remove()})}
function yc(){if(K.get(0).scrollHeight==K.innerHeight()){var a=K.clone();a.css("height","");a.css("visibility","hidden");$("body").append(a);ec=a.innerHeight();a.remove();delete a}for(;Tb.length;)switch(a=Tb.splice(0,1)[0],a.id){case 1:K.append(a.val);R=!0;break;case 2:K.append("<br/>");R=!0;break;case 3:Sc=a.val[1],Tc=a.val[0],K.append(W(a.val[2])),R=!0}return Uc()}
function Uc(){var a=K.get(0).scrollHeight,b=K.innerHeight();K.scrollTop(ec-ec%da);ec=K.scrollTop()+b;Vc(J,{left:0,right:0,top:0,bottom:a});if(ec<a)return ha(),!0;return!1}function zc(a){for(var b=0;Sb.length;){var c=Sb.splice(0,1)[0];switch(c.id){case 1:vb(c.val);break;case 2:b=vb(c.val)}}if(a&&b)return setTimeout(S,b*1E3),!0;return!1}
function fc(a,b,c){if(b==1||b==2)c=Math.round(c/fa);if(b==0){var d=c,e=Zb[0][a];if(d!=a){var f=e*2;for(e=H[f];e!=a;)f=e*2+1,e=H[f];H[f]=H[e*2+1];f=d*2;for(e=H[f];e&&e<=a;)f=e*2+1,e=H[f];H[a*2+1]=e;H[f]=a}}b<12&&Kc(a);d=Mb[b];c<<=Ob[b];c&=Nb[b];Zb[d][a]=c|Zb[d][a]&~Nb[b];R=!0}function t(a,b){var c,d=Mb[b];if(d&128){var e=wb(0,a);if(e.length==0)return 0;d&=127;c=(e.charCodeAt(d*2)&255)<<8;c|=e.charCodeAt(d*2+1)&255}else c=Zb[d][a];c&=Nb[b];c=X(c>>Ob[b]);if(b==1||b==2)c*=fa;return c}
function Q(a){if(a!=k&&a.a!=k&&(a==Xb||t(a.a.id,6)==1)){if(a==I)oa(a.a.id*2).m(I.port,0,0);else{var b=a.port,c=gb;wa(b,0,0,b.width(),b.height(),c)}for(b=0;b<a.a.children.length;b++)c=ta(a.a.children[b].id,a,0),a.a.children[b].top=c.top,a.a.children[b].left=c.left,a.a.children[b].width=c.width,a.a.children[b].height=c.height;if(a.h==14&&a.a.u){b={top:0,left:0,right:0,bottom:0};a.a.u=!1;for(c=0;c<a.a.children.length;c++){var d=a.a.children[c];b.right==b.left||b.bottom==b.top?(b.top=d.top,b.left=d.left,
b.bottom=d.top+d.height,b.right=d.left+d.width):(b.top=Math.min(b.top,d.top),b.left=Math.min(b.left,d.left),b.bottom=Math.max(b.bottom,d.top+d.height),b.right=Math.max(b.right,d.left+d.width))}if(b.right==b.left||b.bottom==b.top)b.top=a.a.y,b.left=a.a.x,b.bottom=a.a.y,b.right=a.a.x;else{if(b.left>a.a.x)b.left=a.a.x;if(b.right<a.a.x)b.right=a.a.x;if(b.top>a.a.y)b.top=a.a.y;if(b.bottom<a.a.y)b.bottom=a.a.y}Vc(a,b)}}}function Wc(a){a=n.find(a);a!=jc&&(jc&&jc.O(),(jc=a)&&a.select())}
function Xc(a,b,c){Tc=c;Sc=b;var d=ub(q("DLOG",132));d.param([W(a)]);d.getItem(3).b.keypress(function(a){if(a.which==13)return d.getItem(1).b.mousedown(),!1;return!0});d.show(function(a){Yc=d.getItem(3).b.val();a==1?Y[0].state.push(65535):Y[0].state.push(0);P(d);S()})}
function Zc(a){switch(a){case 256:$c();break;case 32768:$c();break;case 33024:ad();break;case 33026:bd();break;case 33027:kc=aa();cd();break;case 33028:kc=aa();dd();break;case 33030:ed();break;case 2304:fd();break;case 33280:break;case 33282:break;case 33283:break;case 33284:break;case 33285:break;case 33536:break;case 33537:break;default:fatal("Unknown menuitem: "+a.toString(16))}}
function gd(a,b){var c=a.c;if(c.h==2)c.Ha(a.o);else if(c==L)p||hd(a.o,L,b,!1);else if(a.o==255)n.remove(ga),id(n),delete ga,Uc()||S();else if(!p){jc&&a!=jc&&jc.O();s=a.o;Wc(s);switch(la()){case 0:M=!0;break;case 1:M=N.length!=0;break;case 2:T>0&&(M=!0)}S()}}
function hd(a,b,c,d){b==L&&(b=I);if(c.shiftKey)if(a)N.indexOf(a)!=-1?jd(a):kd(a),S();else if(b.h==14)ld(b,c,d);else{if(N.length==0||b!=ra(N[0]))N.indexOf(b.a.id)!=-1?jd(b.a.id):kd(b.a.id);S()}else if(s&&N.length&&la()>1)a?md(a):md(b.a.id),S();else{if(!a)od(),b.h==14?ld(b,c,d):a=b.a.id;if(a){var e;c.timeStamp-gc<=300&&c.target==hc?(gc=0,hc=k,e=!0):e=!1;e?(N.indexOf(a)==-1&&od(),kd(a),pd(a,b,c,d)):(N.indexOf(a)==-1&&od(),kd(a),qd(a,b,c,d))}}}
function ld(a,b,c){var d={},e={d:a.a.x,e:a.a.y};Qc(a,e);Rc(e);d.la=e.d;d.ma=e.e;d.ja=e.d+a.port.width();d.ka=e.e+a.port.height();var f=$(document.createElement("div"));f.addClass("lasso");desktop.append(f);var i={d:b.pageX,e:b.pageY};Rc(i);f.css("top",i.e+"px");f.css("left",i.d+"px");f.css("width","0px");f.css("height","0px");$(document).mousemove(function(a){var b={d:a.pageX,e:a.pageY};Rc(b);a=Math.max(Math.min(i.d,b.d),d.la);var c=Math.max(Math.min(i.e,b.e),d.ma),e=Math.min(Math.max(i.d,b.d),d.ja);
b=Math.min(Math.max(i.e,b.e),d.ka);f.css("top",c+"px");f.css("left",a+"px");f.css("width",e-a+"px");f.css("height",b-c+"px")});$(document).mouseup(function(e){$(document).unbind("mousemove");$(document).unbind("mouseup");e={d:e.pageX,e:e.pageY};Rc(e);var g=Math.max(Math.min(i.d,e.d),d.la),j=Math.max(Math.min(i.e,e.e),d.ma),l=Math.min(Math.max(i.d,e.d),d.ja),r=Math.min(Math.max(i.e,e.e),d.ka);f.remove();e={d:g,e:j};var B=desktop.offset();e.e+=B.top;e.d+=B.left;rd(a,e);j={top:e.e,left:e.d,width:l-g,
height:r-j};g=[];for(l=0;l<a.a.children.length;l++){var v=a.a.children[l].id;if(!t(v,4))j.left=e.d-t(v,1),j.top=e.e-t(v,2),na(v,j)&&g.push(v)}if(b.shiftKey){if(g.length==0){if(N.length==0||a!=ra(N[0]))N.indexOf(a.a.id)!=-1?jd(a.a.id):kd(a.a.id)}else for(;g.length;)v=g.shift(),N.indexOf(v)!=-1?jd(v):kd(v);S()}else{if(g.length==0)v=a.a.id;else for(;g.length;)v=g.shift(),kd(v);hd(v,a,b,c)}})}
function pd(a,b,c,d){var e=c.pageX,f=c.pageY,i={d:0,e:0},h=!1;V=k;d&&$(document).mousemove(function(c){if(V==k){if(Math.abs(c.pageX-e)+Math.abs(c.pageY-f)<=7)return!1;h=!0;V=ua(a);var d=sa(b.a.children,a);if(d)d--,i.d=b.a.children[d].left,i.e=b.a.children[d].top;Qc(b,i);Rc(i);V.css("top",i.e+"px");V.css("left",i.d+"px")}d=V.position();V.css("top",d.top+(c.pageY-f)+"px");V.css("left",d.left+(c.pageX-e)+"px");e=c.pageX;f=c.pageY;return!1});$(document).mouseup(function(c){var e;d&&($(document).unbind("mousemove"),
V&&(e=V.position(),V.remove()));$(document).unbind("mouseup");if(h)U.d=e.left,U.e=e.top,c=sd(c.pageX,c.pageY),T=c.id,U.d-=i.d,U.e-=i.e,c.c!=b&&(Qc(b,U),c.c&&rd(c.c,U)),s=5,Wc(5),M=!0;M||(md(a),s||(s=4,Wc(4),M=!0));S()})}
function qd(a,b,c,d){var e=c.pageX,f=c.pageY,i={d:0,e:0},h=!1;V=k;d&&$(document).mousemove(function(c){if(V==k){if(Math.abs(c.pageX-e)+Math.abs(c.pageY-f)<=7)return!1;h=!0;V=ua(a);var d=sa(b.a.children,a);if(d)d--,i.d=b.a.children[d].left,i.e=b.a.children[d].top;Qc(b,i);Rc(i);V.css("top",i.e+"px");V.css("left",i.d+"px")}d=V.position();V.css("top",d.top+(c.pageY-f)+"px");V.css("left",d.left+(c.pageX-e)+"px");e=c.pageX;f=c.pageY;return!1});$(document).mouseup(function(a){gc=a.timeStamp;hc=a.target;
var c;d&&($(document).unbind("mousemove"),V&&(c=V.position(),V.remove()));$(document).unbind("mouseup");if(h)U.d=c.left,U.e=c.top,a=sd(a.pageX,a.pageY),T=a.id,U.d-=i.d,U.e-=i.e,a.c!=b&&(Qc(b,U),a.c&&rd(a.c,U)),s=5,Wc(5),M=!0;la()==1&&(M=!0);S()})}function od(){for(;N.length;)jd(N.shift())}function kd(a){N.length&&ra(a)!=ra(N[0])&&od();N.indexOf(a)==-1&&N.push(a);F.indexOf(a)==-1&&(F.push(a),Mc(a))}function jd(a){var b=N.indexOf(a);b!=-1&&N.splice(b,1);if((b=F.indexOf(a))!=-1)F.splice(b,1),Mc(a)}
function md(a){if(a!=T){var b;if(T>0&&(b=F.indexOf(T))!=-1&&N.indexOf(T)==-1)F.splice(b,1),Mc(T);T=a;F.indexOf(T)==-1&&(F.push(T),Mc(T));M=!0}}
function ta(a,b,c){var d=t(a,1),e=t(a,2),f=t(a,3);if(c||!f||!t(a,4)){var i=1;f||c?i=0:F.indexOf(a)!=-1&&(i=2);c=d-b.a.x;e-=b.a.y;d=b.port;f={top:0,left:0,width:0,height:0};var h;if(h=oa(a*2+1))switch(f={top:e,left:c,width:h.width,height:h.height},i){case 1:va(h,d,c,e);break;case 2:var g=h,j=c,l=e;if(!(g.width==0||g.height==0)){var r=d.get(0).getContext("2d"),B=g.width,v=g.height,nd=0,rc=0;j<0&&(nd=-j,j=0);l<0&&(rc=-l,l=0);B+j>=d.width()&&(B=d.width()-j);v+l>=d.height()&&(v=d.height()-l);if(!(B==0||
v==0)){for(var Za=r.getImageData(j,l,B,v),Hb=rc;Hb<v;Hb++)for(var ce=Hb*g.r,ob=(Hb-rc)*Za.width*4,de,Ib=nd;Ib<B;Ib++)(de=g.data[ce+(Ib>>3)]&1<<7-(Ib&7))?(Za.data[ob++]=0,Za.data[ob++]=0,Za.data[ob++]=0,Za.data[ob++]=255):ob+=4;r.putImageData(Za,j,l)}}}else if(h=oa(a*2))switch(f={top:e,left:c,width:h.width,height:h.height},i){case 1:wa(d,c,e,h.width,h.height,0);break;case 2:wa(d,c,e,h.width,h.height,1)}i>0&&(h=oa(a*2))&&xa(h,d,c,e);a=f;a.top+=b.a.y;a.left+=b.a.x;return a}return{top:0,left:0,width:0,
height:0}}function Pc(){for(var a=L,b=0;b<a.i.length;b++)a.i[b].b.remove();a.i=[];a=Jc(t(1,0),!0);for(b=0;b<a.length;b++)Ic(a[b])}function Ic(a){if(t(a,8)){var b=L.find(a);b&&L.remove(b);!t(a,11)&&t(a,0)==t(1,0)&&L.add(ia(t(a,9),t(a,10),a))}}function $c(){var a=hb();p=!0;a.show(function(){P(a);p=!1})}
function fd(){var a=jb(),b=td();b==null&&(b=50);ud(a.getItem(2),b);p=!0;a.show(function(){var b=a.getItem(2).value,d=new Date;d.setTime(d.getTime()+31536E6);document.cookie="webventure_volume="+escape(b)+"; expires="+d.toGMTString()+"; path=/";P(a);p=!1})}function ad(){if(R){var a=kb(0);p=!0;a.show(function(b){P(a);switch(b){case 1:kc=ad;cd();break;case 3:Cc();break;case 2:p=!1}})}else Cc()}
function Cc(){Yb="";for(var a=ya(Ka(133)),b=0;b<Lb;b++)for(var c=0;c<Fb;c++)Zb[b][c]=z(a);for(b=0;b<Gb;b++)$b[b]=z(a);cc();ac();tb(J,Oa(128,1));K.html("");s=1;N=[t(1,0)];E=1;fc(t(1,0),6,1);nc=mc=lc=R=!1;Y=[];M=!0;S()}function bd(){if(R){var a=kb(1);p=!0;a.show(function(b){P(a);switch(b){case 1:kc=bd;cd();break;case 3:Dc();break;case 2:p=!1}})}else Dc()}
function Dc(){var a=mb();p=!0;for(var b=a.getItem(3),c=k,d=0;d<window.localStorage.length;d++){var e=window.localStorage.key(d);if(e!=null&&window.JSON.parse(window.localStorage.getItem(e).toString()).ra==gamename){var f=$(document.createElement("div"));f.addClass("listitem");f.mousedown(ba(!1));f.click(function(a){c&&c.removeClass("active");c=$(a.target);c.addClass("active")});f.dblclick(function(){a.getItem(1).b.mousedown()});f.text(e.toString());b.b.append(f)}}a.show(function(b){switch(b){case 1:if(c==
k)break;Yb=c.text();P(a);p=!1;b=window.JSON.parse(window.localStorage.getItem(Yb).toString());Zb=b.Z;$b=b.$;cc();ac();tb(J,Yb);K.html(b.text);ec=K.get(0).scrollHeight;K.scrollTop(ec);E=1;nc=mc=lc=!1;N=[];s=0;Y=[];fc(t(1,0),6,1);R=!1;S();break;case 2:P(a),p=!1}})}function cd(){Yb==""?dd():(window.localStorage.setItem(Yb,window.JSON.stringify({ra:gamename,Z:Zb,$:$b,text:K.html()})),tb(J,Yb),R=!1,kc())}
function dd(){var a=nb();p=!0;a.getItem(3).b.keypress(function(b){if(b.which==13)return a.getItem(1).b.mousedown(),!1;return!0});for(var b=a.getItem(4),c=k,d=0;d<window.localStorage.length;d++){var e=window.localStorage.key(d);if(e!=null&&window.JSON.parse(window.localStorage.getItem(e).toString()).ra==gamename){var f=$(document.createElement("div"));f.addClass("listitem");f.mousedown(ba(!1));f.click(function(b){c&&c.removeClass("active");c=$(b.target);c.addClass("active");a.getItem(3).b.val(c.text())});
f.dblclick(function(){a.getItem(1).b.mousedown()});f.text(e.toString());b.b.append(f)}}a.show(function(b){switch(b){case 1:Yb=a.getItem(3).b.val();P(a);p=!1;cd();break;case 2:P(a),p=!1,kc()}})}function ed(){if(R){var a=kb(2);p=!0;a.show(function(b){P(a);switch(b){case 1:kc=ed;cd();break;case 3:E=4;S();break;case 2:p=!1}})}else E=4,S()}
function td(){for(var a=document.cookie.split(";"),b=0;b<a.length;b++){for(var c=a[b];c.charAt(0)==" ";)c=c.substring(1,c.length);if(c.indexOf("webventure_volume=")==0)return unescape(c.substring(18,c.length))}return null}function Rb(){s=0;jc=k;N=[];T=0;U={d:0,e:0};Yc="";M=!1;gc=0}function Kc(a){if(Qb.indexOf(a)==-1){Qb.push(a);var b={b:a};b.parent=t(a,0);b.x=t(a,1);b.y=t(a,2);b.Aa=t(a,9);b.Ba=t(a,10);b.Ca=t(a,11);b.ia=t(a,3);b.ha=t(a,4);G.push({id:7,val:b})}}
function vd(a){a&128&&(a=-((a^255)+1));return a}function X(a){a&32768&&(a=-((a^65535)+1));return a}function Hc(a){switch(a){case 65532:return L;case 65533:return Xb;case 65534:return J;case 65535:return n}var b;a:for(var c=0;c<O.length;c++)if((O[c].h==10||O[c].h==14)&&O[c].a!=k&&O[c].a.id==a){b=O[c];break a}return b}function Jc(a,b){for(var c=[],d=H[a*2];d;)c.push(d),b||(c=c.concat(Jc(d,!1))),d=H[d*2+1];return c}
function sa(a,b){var c;for(c=0;c<a.length&&a[c].id!=b;c++);if(c==a.length)return 0;return c+1}function ra(a){if(a==1)return Xb;if(a=t(a,0))return Hc(a)}function Lc(a,b){var c=Jc(a,!0);b.a={id:a,x:0,y:0,u:!1,children:[]};for(var d=32767,e=32767,f=0;f<c.length;f++)if(c[f]!=1){var i={id:c[f],top:0,left:0,width:0,height:0};if(b!=I){var h=t(i,1),g=t(i,2);d>h&&(d=h);e>g&&(e=g)}b.a.children.push(i)}if(d!=32767)b.a.x=d;if(e!=32767)b.a.y=e;if(b!=I)b.a.u=!0}
function qc(){for(jc!=k&&jc.O();F.length;)Mc(F.pop());Rb()}
function sd(a,b){var c;a:if(c=desktop.offset(),b>=c.top&&b<c.top+ea&&a>=c.left&&a<c.left+desktop.width())c={id:1,c:k};else{for(c=0;c<O.length;c++){var d=O[c].T(a,b);if(d!=k){c=d;break a}}c={id:0,c:k}}d=0;if(c.c!=k)d=c.c.h;if(c.id==3&&(d==14||d==10))c.id=c.c.a.id;else switch(d){case 9:c.id=-1;break;case 11:c.id=-2;break;case 12:c.id=-3;break;case 13:c.id=-4;break;default:switch(c.id){case 0:c.id=-5;break;case 1:c.id=-6;break;case 2:c.id=-7;break;case 3:c.id=-8;break;case 4:c.id=-9;break;case 5:c.id=
-10;break;case 6:c.id=-11;break;default:c.id=-12}}return c}function Rc(a){var b=desktop.offset();a.e-=b.top;a.d-=b.left};function oa(a){a=wb(3,a);if(!(a.length<2)){if(a.length==2)return oa((a.charCodeAt(0)&255)<<8|a.charCodeAt(1)&255);return Ma(new Ba(a))}}function pa(a,b,c){var d=b.top,e=b.left,f=e+b.width;b=d+b.height;if(d<a.top)d=a.top;if(e<a.left)e=a.left;b>a.top+a.height&&(b=a.top+a.height);f>a.left+a.width&&(f=a.left+a.width);if(f<=e||b<=d)d=b=e=f=0;c.top=d;c.left=e;c.width=f-e;c.height=b-d;return c.height!=0}
function Ma(a){var b=a.f(3),c,d;Ga&&a.f(2);d=a.f(1)?a.f(10):a.f(6);if((c=a.f(1)?a.f(10):a.f(6))&&d){c=new Ha(c,d,c+15>>3&65534);switch(b){case 0:b=c.J>>4;d=c.J&15;for(var e,f=0,i=0;i<c.I;i++){for(var h=0;h<b;h++)e=Bb(a),a.seek(2,a.k),e>>>=16-a.q,c.data[f++]=e>>8&255,c.data[f++]=e&255;d&&(e=a.f(d),e<<=16-d,c.data[f++]=e>>8&255,c.data[f++]=e&255)}break;case 1:wd(xd,yd,zd,c,a);break;case 2:wd(Ad,Bd,Cd,c,a);break;case 3:b=Array(17);for(f=0;(d=Dd[f++])!=255;){for(e=a.f(d);(d=Dd[f++])!=255;)b[Dd[f++]]=
e%d,e=e/d|0;b[Dd[f++]]=e}b[16]=0;for(e=16;e>0;e--)for(d=e;d<=16;d++)b[d]>=b[e-1]&&b[d]++;for(e=16;e>=0;e--)if(b[e]==16){b[e]=255;break}f=Array(17);i=Array(17);d=a.f(2)+1;for(e=h=0;e<15;e++){if(e)for(;!a.f(1);)d++;i[e]=d;f[e]=h;h+=1<<16-d}for(f[15]=h;h&1<<16-d;)d++;f[16]=h|1<<16-d;i[15]=d;i[16]=d;wd(f,i,b,c,a)}return c}}
var xd=[0,8192,16384,20480,24576,28672,32768,36864,40960,45056,49152,53248,55296,57344,59392,61440,63488],yd=[3,3,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5],zd=[0,15,3,5,6,7,8,9,10,12,255,1,2,4,11,13,14],Ad=[0,16384,32768,49152,51200,53248,55296,57344,59392,61440,62464,62976,63488,64E3,64512,65024,65280],Bd=[2,2,2,5,5,5,5,5,5,6,7,7,7,7,7,8,8],Cd=[255,0,15,1,3,7,14,12,8,6,2,4,9,13,11,10,5],Dd=[8,15,2,255,0,4,255,1,7,9,8,255,3,4,255,4,10,7,10,11,6,255,5,6,6,11,255,7,3,255,9,4,3,14,255,12,2,255,13,1,255,15,255];
function wd(a,b,c,d,e){var f;Z=Ed=0;f=d.J&3?e.f(5):e.f(4)<<1;var i=0,h=d.J&15;h&&(h>>=2,i=h&1,h=2-(h>>1));for(var g=0,j=0;j<d.I;j++){for(var l=0;l<d.J>>3;l++){var r=Fd(a,b,c,e)<<4;d.data[g++]=Fd(a,b,c,e)|r}i&&(d.data[g]=Fd(a,b,c,e)<<4);g+=h}if(l=d.J&3){g=d.r-h;var B=0;for(j=h=0;j<d.I;j++)f&1?(B<l&&(r=Fd(a,b,c,e)<<4,h|=r>>>B,B+=4),B-=l,r=h,h<<=l,h&=255):(r=e.f(l),r<<=8-l),i&&(r>>>=4),d.data[g]|=r&255,g+=d.r}if(f&8)for(j=g=0;j<d.I;j++)if(r=0,f&2)for(l=0;l<d.r;l++)d.data[g]^=r,r=d.data[g++];else for(l=
0;l<d.r;l++)h=d.data[g]^r,h^=h>>>4&15,d.data[g++]=h,r=h<<4&255;if(f&4){a=d.r*4;f&2&&(a*=2);g=0;f=a;for(b=0;b<d.I*d.r-a;b++)d.data[f++]^=d.data[g++]}}var Ed=0,Z=0;
function Fd(a,b,c,d){if(Ed)return Ed--,Z=Z<<8&65280|Z>>8,Z&255;var e=Bb(d);e>>>=16-d.q;e&=65535;var f;for(f=0;f<16;f++)if(a[f+1]>e)break;d.q+=b[f];d.q&16&&(d.q&=15,d.seek(2,d.k));a=c[f];if(a==255)return d.f(1)||(Z&=255,Z|=Z<<8),Ed=d.f(3),Ed<3&&(Ed<<=4,Ed|=d.f(4),Ed<8&&(Ed<<=8,Ed|=d.f(8))),Ed-=2,Z=Z<<8&65280|Z>>8,Z&255;else Z<<=8,Z|=a,Z&=65535;return a};function Ta(a,b,c){var d={id:b},e=$(document.createElement("tr"));if(a[0]=="-"){var f=$(document.createElement("td"));f.attr("colspan","2");f.addClass("divider");f.append(document.createElement("hr"))}else e.addClass("menuitem"),f=$(document.createElement("td")),f.html(ka(a)),e.append(f),f=$(document.createElement("td")),c!=""&&(f.addClass("shortcut"),Gd.push({key:c,id:b}),f.text(c));e.append(f);d.b=e;d.enabled=!0;d.enabled||d.b.addClass("disabled");C.body.append(d.b);C.s.push(d)}
function Qa(a){for(var b=$(a.target);b.data("refCon")==k;)b=b.parent();b.addClass("active");var c=b.data("refCon");desktop.append(c.p);a=b.position();c.p.css("top",a.top+ea+"px");c.p.css("left",a.left+"px");var d=-1;$(document).mousemove(function(a){var f=Ra.offset();if(a.pageX>=f.left&&a.pageY>f.top&&a.pageX<f.left+Ra.width()&&a.pageY<f.top+Ra.height())for(var i=0;i<Sa.length;i++){if(f=Sa[i].b.offset(),a.pageX>=f.left&&a.pageX<f.left+Sa[i].b.outerWidth()){c.p.remove();b.removeClass("active");b=Sa[i].b;
b.addClass("active");c=b.data("refCon");desktop.append(c.p);f=b.position();c.p.css("top",f.top+ea+"px");c.p.css("left",f.left+"px");break}}else if(f=c.p.offset(),a.pageX>=f.left&&a.pageY>=f.top&&a.pageX<f.left+c.p.outerWidth()&&a.pageY<f.top+c.p.outerHeight())for(i=0;i<c.s.length;i++){var h=c.s[i].b;h.hasClass("menuitem")&&c.s[i].enabled&&(f=h.offset(),a.pageY>=f.top&&a.pageY<f.top+h.outerHeight()?(d=i,h.addClass("active")):h.removeClass("active"))}else{for(i=0;i<c.s.length;i++)c.s[i].b.removeClass("active");
d=-1}});$(document).mouseup(function(){$(document).unbind("mousemove");$(document).unbind("mouseup");c.p.remove();b.removeClass("active");d!=-1&&(c.s[d].b.removeClass("active"),Zc(c.s[d].id))})}var Ra,Sa=[],Gd=[],C=k;$("body").keydown(function(a){if(a.target.type=="text")return!0;if(!a.altKey)return!0;if(p)return!0;for(var b=0;b<Gd.length;b++)if(Gd[b].key.charCodeAt(0)==a.which){a=Gd[b].id;for(b=0;b<Sa.length;b++)for(var c=0;c<Sa[b].s.length;c++)Sa[b].s[c].id==a&&Sa[b].s[c].enabled&&Hd(Sa[b],a);return!1}return!0});
function Hd(a,b){a.b.addClass("active");setTimeout(function(){a.b.removeClass("active");Zc(b)},200)};function Id(a,b,c,d,e,f,i,h,g){var j=this;this.H=k;this.i=[];this.W=c;this.V=b;this.A=d;this.D=e;this.c=$(document.createElement("div"));this.c.addClass(a);if(a=="document"||a=="info"||a=="noGrowDoc"||a=="zoomDoc"||a=="rDoc4")b="<span></span>",this.title=$(document.createElement("div")),this.title.addClass("title"),this.title.mousedown(function(a){p||Jd(a.pageX,a.pageY,j);return!1}),this.V&&(b='<div class="close"></div>'+b),this.W&&(b+='<div class="resize"></div>'),this.title.html(b),this.V&&(b=this.title.children("div.close"),
b.mousedown(ba(!1)),b.click(function(a){p||fatal(a);return!1})),this.W&&(b=this.title.children("div.resize"),b.mousedown(ba(!1)),b.click(function(){if(!p){var a=j.c.position();a={x:a.left,y:a.top};a.Da=j.c.width();a.d=j.c.height();j.H!=k?(j.c.css("left",j.H.x+"px"),j.c.css("top",j.H.y+"px"),j.resize(j.H.Da,j.H.d)):(j.c.css("left","0px"),j.c.css("top",ea+"px"),j.resize(desktop.width(),desktop.height()-ea));j.H=a}return!1})),this.c.append(this.title);this.port=$(document.createElement("canvas"));this.port.mousedown(function(a){if(!p)switch(Oc(j),
j.h){case 9:Jd(a.pageX,a.pageY,j);break;case 10:case 14:var b=Kd(a.pageX,a.pageY,j),c=!1;b&&!t(b,3)&&(c=!0);hd(b,j,a,c);break;case 12:b=Kd(a.pageX,a.pageY,j);b==1?hd(b,j,a,!1):Jd(a.pageX,a.pageY,j);break;case 13:hd(t(1,0),j,a,!1)}return!1});this.port.attr("width",h);this.port.attr("height",g);this.c.append(this.port);this.top=i;this.height=g;this.left=f;this.width=h;a=="document"||a=="noGrowDoc"||a=="zoomDoc"||a=="rDoc4"?(this.top-=Va+Ua,this.height+=Va,this.left-=Ua):a=="info"?(this.top-=Wa+Ua,this.height+=
Wa,this.left-=Ua):a=="alert"?(this.top-=Xa*2,this.left-=Xa*2,this.width+=Xa,this.height+=Xa):(this.top-=Ua,this.left-=Ua);this.A&&(this.width+=Ya);this.D&&(this.height+=$a);this.c.css("top",this.top+"px");this.c.css("left",this.left+"px");this.c.css("width",this.width+"px");this.c.css("height",this.height+"px");desktop.append(this.c);(this.A||this.D)&&Wb(this)}m=Id.prototype;m.show=function(a){this.Ha=a;this.c.show();id(this)};m.hide=function(){this.c.hide()};
function tb(a,b){if(a.title!=k){var c=a.title.children("span");c.html("");if(b=="")c.hide();else{var d=a.c.css("display")=="none";a.c.show();c.css({position:"absolute",visibility:"hidden",display:"block"});var e=a.port.width();a.V&&(e-=30);a.W&&(e-=30);for(var f=0;f<b.length;f++)if(c.append(b.substring(f,f+1)),c.width()>e){c.html(b.substring(0,f-1));break}c.css({position:"",visibility:"",display:""});d&&a.c.hide()}}}m.addClass=function(a){this.c.addClass(a)};m.removeClass=function(a){this.c.removeClass(a)};
m.add=function(a){var b=this.port.position().top,c=parseInt(a.b.css("top"),10);a.b.css("top",c+b+"px");this.c.append(a.b);a.c=this;this.i.push(a);this.c.css("display")!="none"&&a.m()};m.remove=function(a){var b=this.i.indexOf(a);b!=-1&&this.i.splice(b,1);a.b.remove()};m.find=function(a){for(var b=0;b<this.i.length;b++)if(this.i[b].o==a)return this.i[b]};function id(a){for(var b=0;b<a.i.length;b++)a.i[b].o!=255&&a.i[b].show()}m.close=function(){this.c.remove()};
function rd(a,b){var c=a.port.offset();b.d-=c.left+1;b.e-=c.top+2;a.a&&(b.d+=a.a.x,b.e+=a.a.y)}function Qc(a,b){var c=a.port.offset();b.d+=c.left+1;b.e+=c.top+2;a.a&&(b.d-=a.a.x,b.e-=a.a.y)}
function Wb(a){if(a.D){a.v=$(document.createElement("div"));a.v.addClass("hscroll");a.v.css("top",a.height-$a+"px");a.v.css("width",a.width-15+"px");a.v.mousedown(function(b){Oc(a);var d=a.n.offset().left;b.pageX<d?Ld(a,-20,0):Ld(a,20,0);return!1});var b=$(document.createElement("div"));b.addClass("leftarrow");b.mousedown(function(){Ld(a,-5,0);return!1});a.v.append(b);a.M=$(document.createElement("div"));a.M.addClass("rightarrow");a.M.css("left",a.width-ab-15+"px");a.M.mousedown(function(){Ld(a,5,
0);return!1});a.v.append(a.M);a.n=$(document.createElement("div"));a.n.addClass("slider");a.n.mousedown(function(b){Md(a,b.pageX,!0);return!1});a.v.append(a.n);a.c.append(a.v)}if(a.A)a.w=$(document.createElement("div")),a.w.addClass("vscroll"),a.w.css("left",a.width-Ya+"px"),a.w.css("height",a.height-15-Va+"px"),a.w.mousedown(function(b){Oc(a);var d=a.g.offset().top;b.pageY<d?Ld(a,0,-20):Ld(a,0,20);return!1}),b=$(document.createElement("div")),b.addClass("uparrow"),b.mousedown(function(){Ld(a,0,-5);
return!1}),a.w.append(b),a.L=$(document.createElement("div")),a.L.addClass("downarrow"),a.L.css("top",a.height-db-fb-Va+"px"),a.L.mousedown(function(){Ld(a,0,5);return!1}),a.w.append(a.L),a.g=$(document.createElement("div")),a.g.addClass("slider"),a.g.mousedown(function(b){Md(a,b.pageY,!1);return!1}),a.w.append(a.g),a.c.append(a.w);a.F=$(document.createElement("div"));a.F.addClass("grow");a.F.css("top",a.height-fb+"px");a.F.css("left",a.width-15+"px");a.F.mousedown(function(b){if(p)return!1;Oc(a);
var d=$(document.createElement("div"));d.addClass("resizeProxy");desktop.append(d);var e=a.c.position();d.css("top",e.top+"px");d.css("left",e.left+"px");var f=a.c.width(),i=a.c.height();d.css("width",f+"px");d.css("height",i+"px");var h=b.pageX,g=b.pageY;$(document).mousemove(function(a){var b=f+(a.pageX-h),c=i+(a.pageY-g);if(b>100)f=b,d.css("width",f+"px"),h=a.pageX;if(c>100)i=c,d.css("height",i+"px"),g=a.pageY});$(document).mouseup(function(){$(document).unbind("mousemove");$(document).unbind("mouseup");
d.remove();a.resize(f,i)});return!1});a.c.append(a.F)}
m.resize=function(a,b){var c=this.width-this.port.width(),d=this.height-this.port.height();this.width=a;this.height=b;this.c.css("width",a+"px");this.c.css("height",b+"px");this.D&&(this.v.css("top",b-$a+"px"),this.v.css("width",a-15+"px"),this.M.css("left",a-ab-15+"px"));this.A&&(this.w.css("left",a-Ya+"px"),this.w.css("height",b-15-Va+"px"),this.L.css("top",b-db-fb-Va+"px"));this.F.css("top",b-fb+"px");this.F.css("left",a-15+"px");this.a?(this.port.attr("width",a-c),this.port.attr("height",b-d),
this.a.u=!0,Q(this)):(this.port.css("width",a-c),this.port.css("height",b-d),ec=this.port.get(0).scrollHeight,Uc())};
function Vc(a,b){if(a.h==11)a.g.data("min",b.top),a.g.data("max",b.bottom),Nd(a);else{if(b.left>a.a.x)b.left=a.a.x;if(b.right<a.a.x+a.port.width())b.right=a.a.x+a.port.width();if(b.top>a.a.y)b.top=a.a.y;if(b.bottom<a.a.y+a.port.height())b.bottom=a.a.y+a.port.height();a.D&&(a.n.data("min",b.left),a.n.data("max",b.right));a.A&&(a.g.data("min",b.top),a.g.data("max",b.bottom));if(a.D){var c=a.n.data("min"),d=a.n.data("max");if(c<d){var e=a.a.x-c,f=a.port.width();e=e*(a.port.width()-bb-ab)/(d-c)|0;c=f*
(a.port.width()-bb-ab-cb)/(d-c)|0;a.n.css("left",e+bb+"px");a.n.css("width",c+"px")}else a.n.css("left",bb+"px"),a.n.css("width",a.port.width()-bb-ab+"px")}a.A&&(c=a.g.data("min"),d=a.g.data("max"),c<d?(e=a.a.y-c,f=a.port.height(),e=e*(a.port.height()-eb-db)/(d-c)|0,c=f*(a.port.height()-eb-db-2)/(d-c)|0,a.g.css("top",e+eb+"px"),a.g.css("height",c+"px")):(a.g.css("top",eb+"px"),a.g.css("height",a.port.height()-eb-db+"px")))}}
function Nd(a){var b=a.port.scrollTop(),c=a.g.data("min"),d=a.g.data("max");if(c<d){var e=b-c;b+=a.port.height();e=e*(a.height-Va-fb-eb-db)/(d-c)|0;c=b*(a.height-Va-fb-eb-db-2)/(d-c)|0;a.g.css("top",e+eb+"px");a.g.css("height",c-e+"px")}else a.g.css("top",eb+"px"),a.g.css("height",a.height-15-Va-db+"px")}
m.T=function(a,b){var c=this.c.offset();if(a>=c.left&&a<c.left+this.c.width()&&b>=c.top&&b<c.top+this.c.height()){c=this.port.offset();if(a>=c.left&&a<c.left+this.port.width()&&b>=c.top&&b<c.top+this.port.height())return{id:3,c:this};return{id:4,c:this}}};
function Od(a){var b=a.port.get(0).getContext("2d"),c=a.port.width();a=a.port.height();c=b.getImageData(0,0,c,a);for(a=0;a<c.height;a++)for(var d=a*c.width*4,e=0;e<c.width;e++)c.data[d++]^=255,c.data[d++]^=255,c.data[d++]^=255,c.data[d++]=255;b.putImageData(c,0,0)}m.param=function(a){for(var b=0;b<this.i.length;b++)if(this.i[b].Y){var c=this.i[b].Y(),d;do if(d=c.indexOf("^"),d>=0){var e=c.substr(0,d);e+=a[parseInt(c.substr(d+1,1),10)];e+=c.substr(d+2);this.i[b].S(e);c=e}while(d>=0)}};
m.getItem=function(a){for(var b=0;b<this.i.length;b++)if(this.i[b].o==a)return this.i[b]};
function Ld(a,b,c){if(a.h==11){a.port.scrollTop(a.port.scrollTop()+c);Nd(a);var d=setTimeout(function(){Ld(a,b,c)},50)}else{a.a.x+=b;a.a.y+=c;if(a.D){var e=a.n.data("min"),f=a.n.data("max");if(a.a.x<e)a.a.x=e;if(a.a.x>f-a.port.width())a.a.x=f-a.port.width()}if(a.A){e=a.g.data("min");f=a.g.data("max");if(a.a.y<e)a.a.y=e;if(a.a.y>f-a.port.height())a.a.y=f-a.port.height()}a.a.u=!0;Q(a);d=setTimeout(function(){Ld(a,b,c)},50)}$(document).mouseup(function(){$(document).unbind("mouseup");clearTimeout(d)})}
function Md(a,b,c){if(a.h==11)Pd(a,b);else{var d=b;$(document).mousemove(function(b){if(c){a.a.x+=b.pageX-d;d=b.pageX;b=a.n.data("min");var f=a.n.data("max");if(a.a.x<b)a.a.x=b;if(a.a.x>f-a.port.width())a.a.x=f-a.port.width()}else{a.a.y+=b.pageY-d;d=b.pageY;b=a.g.data("min");f=a.g.data("max");if(a.a.y<b)a.a.y=b;if(a.a.y>f-a.port.height())a.a.y=f-a.port.height()}a.a.u=!0;Q(a)});$(document).mouseup(function(){$(document).unbind("mouseup");$(document).unbind("mousemove")})}}
function Pd(a,b){var c=b;$(document).mousemove(function(b){var e=a.g.data("min"),f=a.g.data("max");e=(b.pageY-c)*(f-e)/(a.height-Va-fb-eb-db)|0;c=b.pageY;a.port.scrollTop(a.port.scrollTop()+e);Nd(a)});$(document).mouseup(function(){$(document).unbind("mouseup");$(document).unbind("mousemove")})}function Ac(){for(var a=[],b=0;b<O.length;b++)O[b].h==14?a.push(O[b]):O[b].hide();for(b in a)dc(a[b])}function P(a){for(var b=0;b<O.length;b++)if(O[b]==a){a.close();O.splice(b,1);break}O.length&&Oc(O[0])}
function dc(a){if(a!=k){var b=a.a.id;if(a.h==10)a.a={},tb(a,"");else{var c={e:0,d:0},d={e:a.port.height(),d:a.port.width()};Qc(a,c);Qc(a,d);a.a={};P(a);return{b:b,top:c.e,left:c.d,width:d.d-c.d,height:d.e-c.e}}}}function Oc(a){if(O[0]!=a){O[0]!=k&&O[0].c.removeClass("active");for(var b=0;b<O.length;b++)O[b]==a&&O.splice(b,1);O.unshift(a)}a.c.addClass("active")}function qb(a,b,c,d,e,f,i,h,g){a=new Id(a,b,c,d,e,f,i,h,g);a.hide();Oc(a);return a}
function ib(a,b,c,d){a=new Id("alert",!1,!1,!1,!1,a,b,c,d);a.h=2;a.hide();Oc(a);return a}var O=[];function Jd(a,b,c){var d=a,e=b;Oc(c);$(document).mousemove(function(a){var b=c.c.position();c.c.css("top",b.top+(a.pageY-e)+"px");c.c.css("left",b.left+(a.pageX-d)+"px");d=a.pageX;e=a.pageY});$(document).mouseup(function(a){$(document).unbind("mousemove");$(document).unbind("mouseup");var b=c.c.position();c.c.css("top",b.top+(a.pageY-e)+"px");c.c.css("left",b.left+(a.pageX-d)+"px")})}
function Kd(a,b,c){a={d:a,e:b};var d=0;b=c.a.children.length;for(rd(c,a);b>0&&d==0;){b--;d=a;var e=c.a.children[b],f=0,i;if(i=!t(e.id,4))i=d.d>=e.left&&d.e>=e.top&&d.d<e.left+e.width&d.e<e.top+e.height?!0:!1;if(i)if(i=k,i=oa(e.id*2+1)){if(i.T(d.d-e.left,d.e-e.top))f=e.id}else f=e.id;d=f}return d};function vc(a,b,c,d){Y.unshift({na:a,G:b,target:c,oa:d.d,pa:d.e,state:new Qd,l:[],B:[]});return tc(!0)}function tc(a){for(;Y.length;)if(Rd(a))return!0;return!1}var Y=[];function Qd(){this.stack=Array(128);this.z=128}Qd.prototype.push=function(a){this.stack[--this.z]=Sd(a)};Qd.prototype.pop=function(){return this.stack[this.z++]};function Td(a,b){return a.stack[a.z+b]}Qd.prototype.clear=function(){this.z=128};Qd.prototype.size=function(){return 128-this.z};
function Sd(a){a<0&&(a=(-a^65535)+1);return a&65535}
function Rd(a){var b=!1;if(Y[0].ua||a){Y[0].ua=!1;if(b=a?Ud(0):Vd())return Y[0].ua=!0;b=!0;Y[0].sa=0}if(Y[0].ta||b){Y[0].ta=!1;var c=[t(1,0)].concat(Jc(t(1,0),!1));for(a=Y[0].sa;a<c.length;a++){if(b=b?Ud(c[a]):Vd())return Y[0].ta=!0,Y[0].sa=a,!0;b=!0}}var d;if(Y[0].X&&(Y[0].X=!1,Vd()))return Y[0].X=!0;do{for(a=b=0;a<Y[0].l.length;a++)if(b<Y[0].l[a].t)b=Y[0].l[a].t,d=a;if(b&&(Y[0].l[d].t=0,Ud(Y[0].l[d].qa)))return Y[0].X=!0}while(b);Y.shift();return!1}
function Ud(a){if(a=wb(1,a))return Y[0].B[0]=new Ba(a),Wd();return!1}function Vd(){var a=Wd();if(a)return a;Y[0].B.shift();if(Y[0].B.length)return Vd()}var Xd;
function Wd(){var a,b,c,d,e,f,i,h;d=Y[0].B[0];for(var g=Y[0].state;!(d.j>=d.length);)if(a=y(d),a&128)switch(a){case 128:b=g.pop();c=g.pop();g.push(t(b,c));break;case 129:b=g.pop();c=g.pop();a=X(g.pop());fc(b,c,a);break;case 130:b=g.pop();c=g.pop();a=g.pop()!=0;g.push(Yd(b,c,a));break;case 131:g.push(Y[0].na);break;case 132:g.push(Y[0].G);break;case 133:g.push(Y[0].target);break;case 134:g.push(Y[0].oa);break;case 135:g.push(Y[0].pa);break;case 136:g.push(y(d));break;case 137:g.push(z(d));break;case 138:c=
g.pop();g.push($b[c]);break;case 139:c=g.pop();a=X(g.pop());$b[c]=a;R=!0;break;case 140:a=g.pop();g.push(Math.round((a-1)*Math.random()));break;case 141:a=Td(g,0);g.push(a);break;case 142:c=g.pop();for(b=c-1;c--;)a=Td(g,b),g.push(a);break;case 143:b=g.pop();h=g.pop();g.push(b);g.push(h);break;case 144:c=g.pop();h=Td(g,c);b=Td(g,0);g.stack[g.z+c]=Sd(b);g.stack[g.z+0]=Sd(h);break;case 145:g.pop();break;case 146:a=Td(g,1);g.push(a);break;case 147:c=g.pop();a=Td(g,c);g.push(a);break;case 148:h=g.pop();
b=g.pop();a=g.pop();g.push(h);g.push(a);g.push(b);break;case 149:i=X(g.pop());c=X(g.pop());i%=c;i<0&&(i+=c);e=f=0;for(a=1;a<c;a++)e+=i,e>=c&&(e-=c),e==f?(f++,e=f):(h=Td(g,f),b=Td(g,e),g.stack[g.z+f]=Sd(b),g.stack[g.z+e]=Sd(h));break;case 150:g.clear();break;case 151:g.push(g.size());break;case 152:b=g.pop();h=g.pop();g.push(h+b);break;case 153:b=g.pop();h=g.pop();g.push(h-b);break;case 154:b=g.pop();h=g.pop();g.push(h*b);break;case 155:b=g.pop();h=g.pop();g.push(h/b|0);break;case 156:b=g.pop();h=
g.pop();g.push(h%b);break;case 157:b=g.pop();h=g.pop();g.push(h%b);g.push(h/b|0);break;case 158:a=X(g.pop());a<0&&(a=-a);g.push(a);break;case 159:a=-X(g.pop());g.push(a);break;case 160:b=g.pop();h=g.pop();g.push(h&b);break;case 161:b=g.pop();h=g.pop();g.push(h|b);break;case 162:b=g.pop();h=g.pop();g.push(h^b);break;case 163:a=g.pop();g.push(a^65535);break;case 164:b=g.pop();h=g.pop();g.push(h&&b?65535:0);break;case 165:b=g.pop();h=g.pop();g.push(h||b?65535:0);break;case 166:b=g.pop();h=g.pop();g.push(!h!=
!b?65535:0);break;case 167:a=g.pop();g.push(a==0?65535:0);break;case 168:b=g.pop();h=g.pop();g.push(h>b?65535:0);break;case 169:b=g.pop();h=g.pop();g.push(h<b?65535:0);break;case 170:b=X(g.pop());h=X(g.pop());g.push(h>b?65535:0);break;case 171:b=X(g.pop());h=X(g.pop());g.push(h<b?65535:0);break;case 172:b=g.pop();h=g.pop();g.push(h==b?65535:0);break;case 173:b=W(g.pop());h=W(g.pop());g.push(h==b?1:0);break;case 174:b=W(g.pop());a=W(g.pop());g.push(a.toLowerCase().indexOf(b.toLowerCase())!=-1?1:0);
break;case 175:b=W(g.pop());a=W(g.pop());b=RegExp("\\b"+b+"\\b","i");g.push(b.test(a)?65535:0);break;case 176:a=X(z(d));d.seek(a,d.k);break;case 177:a=vd(y(d));d.seek(a,d.k);break;case 178:a=X(z(d));b=g.pop();b!=0&&d.seek(a,d.k);break;case 179:a=vd(y(d));b=g.pop();b!=0&&d.seek(a,d.k);break;case 180:a=X(z(d));b=g.pop();b==0&&d.seek(a,d.k);break;case 181:a=vd(y(d));b=g.pop();b==0&&d.seek(a,d.k);break;case 182:a=g.pop();b=g.pop();Y[0].l.push({t:a,qa:b});break;case 183:b=g.pop();for(a=0;a<Y[0].l.length;a++)if(Y[0].l[a].qa==
b)Y[0].l[a].t=0;break;case 184:b=g.pop();for(a=0;a<Y[0].l.length;a++)if(Y[0].l[a].t<=b)Y[0].l[a].t=0;break;case 185:c=g.pop();for(a=0;a<Y[0].l.length;a++)if(Y[0].l[a].t>=c)Y[0].l[a].t=0;break;case 186:b=g.pop();c=g.pop();for(a=0;a<Y[0].l.length;a++)if(Y[0].l[a].t>=c&&Y[0].l[a].t<=b)Y[0].l[a].t=0;break;case 187:a={state:new Qd,l:[],B:[k]};a.na=g.pop();a.G=g.pop();a.target=g.pop();a.oa=g.pop();a.pa=g.pop();Y.unshift(a);if(Rd(!0))return!0;break;case 188:a=g.pop();Y[0].B.unshift(k);if(Ud(a))return!0;
Y[0].B.shift();d=Y[0].B[0];break;case 189:b=g.pop();G.push({id:2,val:b});break;case 190:a={};a.R=g.pop();a.K=g.pop();G.push({id:8,val:a});fc(a.K,6,t(a.R,6));fc(a.R,6,0);b=Jc(a.R,!0);for(c=0;c<b.length;c++)fc(b[c],0,a.K);break;case 191:G.push({id:14,val:Y[0].G});break;case 192:G.push({id:13});break;case 193:a=g.pop();Tb.push({id:3,val:[Y[0].target,Y[0].G,a]});break;case 194:Tb.push({id:2});break;case 195:a=g.pop();Tb.push({id:3,val:[Y[0].target,Y[0].G,a]});Tb.push({id:2});break;case 196:a=g.pop();
Tb.push({id:2});Tb.push({id:3,val:[Y[0].target,Y[0].G,a]});Tb.push({id:2});break;case 197:a=g.pop();Tb.push({id:1,val:a});break;case 198:g.push(2);break;case 199:b=g.pop();Sb.push({id:1,val:b});break;case 200:b=g.pop();Sb.push({id:2,val:b});break;case 201:Sb.push({id:3});break;case 202:a=new Date;g.push(a.getFullYear());g.push(a.getMonth()+1);g.push(a.getDate());g.push(a.getHours());g.push(a.getMinutes());g.push(a.getSeconds());break;case 203:a=new Date;g.push(a.getDay()+1);break;case 204:a=g.pop()!=
0;b=g.pop();b=Jc(b,a);for(a=0;a<b.length;a++)g.push(b[a]);g.push(b.length);break;case 205:a=g.pop()!=0;b=g.pop();b=Jc(b,a);g.push(b.length);break;case 206:g.push(86);break;case 207:g.push(3);break;case 208:g.push(1);break;case 209:b=g.pop();a=qa(b);g.push(a.width);g.push(a.height);break;case 210:b=g.pop();h=g.pop();g.push(Zd(b,h));break;case 211:a=b=g.pop();b=[];c=Jc(t(a,0),1);for(h=0;h<c.length;h++)a<c[h]&&Zd(c[h],a)>=40&&b.push(c[h]);for(;b.length;)fc(b.pop(),0,a);break;case 212:b=g.pop();a=Jc(b,
1);b=t(b,0);for(c=0;c<a.length;c++)fc(a[c],0,b);break;case 213:return d=g.pop(),Xc(d,Y[0].G,Y[0].target),!0;case 214:Wc(g.pop());break;case 215:E=3;break;case 216:E=2;break;case 217:return d=g.pop(),setTimeout(S,d/60*1E3),!0;case 218:return oc(!1),ha(),!0;case 219:xc();break;case 220:if(zc(!0))return!0;break;case 221:if(yc())return!0;break;case 222:if(oc(!0))return!0;break;case 223:return d=g.pop(),Od(I),setTimeout($d,d/60*1E3),!0;case 224:g.pop();break;case 225:g.pop();break;case 226:b=g.pop();h=
g.pop();h*=b;a=g.pop();h/=a;g.push(h|0);break;case 227:b=g.pop();a=k;if(a=t(1,0)==b?I:Hc(b))Ec(b),xc(),Q(a);break;case 228:g.push(0);break;case 229:break;case 230:g.push(Xd);break;case 231:c=g.pop();b=1;for(a=Xd=0;a<c;a++)Xd+=b,Xd^=b,b^=Xd,Xd^=b;break;default:fatal("Unknown function:"+a.toString(16))}else g.push(a);return!1}function $d(){Od(I);S()}function Yd(a,b,c){var d=0;a=Jc(a,c);for(c=0;c<a.length;c++)d+=t(a[c],b);return d}
function Zd(a,b){if(t(a,0)!=t(b,0))return 0;var c=qa(a),d=qa(b);if(pa(d,c,d))return d.width*d.height*100/(c.width*c.height)|0;return 0};function o(a,b,c,d){switch(c&255){case 2:return new ae(a,b,d);case 10:return new be(a,b,d);case 15:return new ee(a,b,d);case 17:return new fe(a,b,d);case 22:return new ge(a,b,d);case 23:return new he(a,b);case 24:return new ie(a,b,d);case 25:return new je(a,b,d);default:fatal("Unknown control:"+c.toString(16))}}
function ae(a,b,c){var d=this,e=$(document.createElement("canvas"));e.addClass("cbutton");e.css("left",a[0]+"px");e.css("top",a[1]+"px");e.attr("width",a[2]);e.attr("height",a[3]);e.mousedown(function(a){gd(d,a);return!1});this.b=e;this.o=b;this.selected=!1;this.Ea=c[0];this.f=c[1];this.Fa=c[2]}m=ae.prototype;m.hide=function(){this.b.hide()};m.show=function(){this.b.show();this.m()};
m.m=function(){var a=this.b.get(0).getContext("2d"),b=this.b.width(),c=this.b.height(),d=a.getImageData(0,0,b,c),e=this.selected?this.Fa:this.f;if(e)for(var f=0;f<c;f++)for(var i=(f>>1)*this.Ea,h=f*d.width*4,g,j=0;j<b;j++)g=e.charCodeAt(i+(j>>2)),g=(g>>(j&2?0:4)&15)*3,d.data[h++]=Fa[g++],d.data[h++]=Fa[g++],d.data[h++]=Fa[g++],d.data[h++]=255;else for(f=0;f<c;f++){h=f*d.width*4;for(j=0;j<b;j++){g=this.selected?0:255;if(f<2||j<4||f>c-3||j>b-5)g=0;d.data[h++]=g;d.data[h++]=g;d.data[h++]=g;d.data[h++]=
255}}a.putImageData(d,0,0)};m.select=function(){this.selected=!0;this.m()};m.O=function(){this.selected=!1;this.m()};function be(a,b,c){var d=this,e=$(document.createElement("div"));e.addClass("button");e.css("left",a[0]+"px");e.css("top",a[1]+"px");e.css("width",a[2]+"px");e.css("height",a[3]+"px");e.css("line-height",a[3]+"px");e.html(c[0]);e.mousedown(function(a){gd(d,a);return!1});this.b=e;this.o=b}be.prototype.hide=function(){this.b.hide()};be.prototype.show=function(){this.b.show()};
be.prototype.m=aa();function ee(a,b,c){this.b=$(document.createElement("div"));this.b.addClass("textblock");this.b.css("left",a[0]+"px");this.b.css("top",a[1]+"px");this.b.css("width",a[2]+"px");this.b.css("height",a[3]+"px");this.o=b;this.S(c[0])}m=ee.prototype;m.Y=function(){return this.b.html()};m.S=function(a){this.b.html(a)};m.hide=function(){this.b.hide()};m.show=function(){this.b.show()};m.m=aa();
function fe(a,b,c){var d=$(document.createElement("input"));d.addClass("textinput");d.css("left",a[0]+"px");d.css("top",a[1]+"px");d.css("width",a[2]+"px");d.css("height",a[3]+"px");d.val(c[0]);d.mousedown(function(){d.focus();return!1});this.b=d;this.o=b}fe.prototype.hide=function(){this.b.hide()};fe.prototype.show=function(){this.b.show();this.b.focus()};fe.prototype.m=aa();
function ge(a,b,c){this.b=$(document.createElement("div"));this.b.addClass("textblock");this.b.css("left",a[0]+"px");this.b.css("top",a[1]+"px");this.b.css("width",a[2]+"px");this.b.css("height",a[3]+"px");this.o=b;this.S(c[0])}m=ge.prototype;m.hide=function(){this.b.hide()};m.show=function(){this.b.show()};m.m=aa();m.Y=function(){return this.b.html()};
m.S=function(a){for(var b="",c=0;c<a.length;c++)a.charCodeAt(c)==1?(a.charCodeAt(c+1)==74&&this.b.css("text-align","center"),c+=2):b+=a.charCodeAt(c)==13?"<br />":a.charAt(c);this.b.html(b)};function he(a,b){this.b=$(document.createElement("div"));this.b.addClass("list");this.b.css("left",a[0]+"px");this.b.css("top",a[1]+"px");this.b.css("width",a[2]+"px");this.b.css("height",a[3]+"px");this.o=b}he.prototype.hide=function(){this.b.hide()};he.prototype.show=function(){this.b.show()};
he.prototype.m=aa();
function ie(a,b,c){var d=this;this.value=parseInt(c[0],10);this.o=b;this.min=parseInt(c[1],10);this.max=parseInt(c[2],10);this.width=a[2];b=$(document.createElement("div"));b.addClass("hscroll");b.css("left",a[0]+"px");b.css("top",a[1]+"px");b.css("width",a[2]+"px");b.css("height",a[3]+"px");this.b=b;c=$(document.createElement("div"));c.addClass("leftarrow");c.css("top","0px");c.css("left","0px");b.append(c);var e=$(document.createElement("div"));e.addClass("rightarrow");e.css("top","0px");e.css("left",
a[2]-ab+"px");b.append(e);var f=$(document.createElement("div"));f.addClass("slider");f.css("top","0px");f.css("left","50px");f.css("width","20px");b.append(f);this.Ga=f;b.mousedown(function(a){var b=f.offset().left;a.pageX<b?ke(d,-20):ke(d,20);return!1});c.mousedown(function(){ke(d,-5);return!1});e.mousedown(function(){ke(d,5);return!1});f.mousedown(function(a){le(d,a.pageX);return!1})}ie.prototype.hide=function(){this.b.hide()};ie.prototype.show=function(){this.b.show();this.m()};
ie.prototype.m=function(){this.Ga.css("left",(this.value*(this.width-bb-ab-20-cb)/(this.max-this.min)|0)+bb+"px")};function ud(a,b){a.value=parseInt(b,10);a.m()}function ke(a,b){a.value+=b;if(a.value<a.min)a.value=a.min;if(a.value>a.max)a.value=a.max;a.m();var c=setTimeout(function(){ke(a,b)},50);$(document).mouseup(function(){$(document).unbind("mouseup");clearTimeout(c)})}
function le(a,b){var c=b;$(document).mousemove(function(b){var e=(b.pageX-c)*(a.max-a.min)/(a.width-bb-ab-20-cb)|0;c=b.pageX;a.value+=e;if(a.value<a.min)a.value=a.min;if(a.value>a.max)a.value=a.max;a.m()});$(document).mouseup(function(){$(document).unbind("mouseup");$(document).unbind("mousemove")})}
function je(a,b,c){var d=this,e=$(document.createElement("div"));e.addClass("sbutton");e.css("left",a[0]+"px");e.css("top",a[1]+"px");e.css("width",a[2]-2+"px");e.css("height",a[3]-2+"px");e.html(c[0]);e.mousedown(function(a){gd(d,a);return!1});this.b=e;this.o=b}m=je.prototype;m.hide=function(){this.b.hide()};m.show=function(){this.b.show()};m.select=function(){this.b.addClass("active")};m.O=function(){this.b.removeClass("active")};m.m=aa();var Vb=!0,Ub=k,Yc="",Sc=k,Tc=k;
function W(a){if(Vb){if(a&32768)a=Yc;else{a=new Ba(wb(2,a));for(var b=!1,c="",d=z(a);d--;){var e=a.f(5);if(e>0&&e<27)e|=64,b&&(e|=32),b=!0,c+=String.fromCharCode(e);else switch(e){case 0:c+=" ";break;case 27:c+=b?".":",";b=!0;break;case 28:c+=b?"'":'"';b=!0;break;case 29:b=a.f(16);b&32768?(b^=65535,b=me(b)):b=W(b);b&&(c+=b);b=!0;break;case 30:c+=String.fromCharCode(a.f(8));b=!0;break;case 31:b=!b}}a=ka(c)}return a}if(a&32768)return Yc;a=new Ba(wb(2,a));d="";for(c=a.f(1)?a.f(15):a.f(7);c--;){b=Bb(a);
b>>=16-a.q;b&=65535;for(e=0;e<Ub.length;e++)if(b<Ub.ba[e])break;a.q+=Ub.aa[e];a.q&16&&(a.q&=15,a.seek(2,a.k));b=Ub.ca[e];b==1&&(b=a.f(7));b!=2?d+=String.fromCharCode(b):(a.f(1)?(b=a.f(15),b=W(b)):(b=a.f(8),b=me(b)),b&&(d+=b))}return ka(d)}function me(a){var b,c;b=a&8?Tc:Sc;if((a&3)==1)b=t(b,7),c=Oa(132,(b>>4&3)+1);else{c=W(b);if(c=="")throw"text failure";switch(a&3){case 2:c=ne(0,b)+c;break;case 3:c=ne(2,b)+c}}c.length&&a&4&&(c=c.substr(0,1).toUpperCase()+c.substr(1));return c}
function ne(a,b){var c=t(b,7)>>a&3;if(c)return Oa(131,c);return""};function wb(a,b){if(b>=Eb[a].N)return"";var c,d;Eb[a].ea?(c=Eb[a].fa[b],d=Eb[a].ga[b]):(c=Eb[a].xa,d=b*c);if(!c)return"";return Eb[a].data.substring(d,d+c)}var Eb=[];var yb=!1,zb=!1;try{var oe=document.createElement("audio").canPlayType("audio/wav");yb=oe!=""&&oe!="no"}catch(pe){}function xb(a,b){this.data=Array(a);this.C=a;this.P=b}xb.prototype.play=function(){var a=$(document.createElement("audio"));$(document.body).append(a);a.attr("src","data:audio/x-wav;base64,"+qe(this));var b=td();b==null&&(b=50);a.attr("volume",b/100);a.bind("ended",function(){a.remove()});a.get(0).play()};
function qe(a){var b=Array(44+a.C);b[0]=82;b[1]=73;b[2]=70;b[3]=70;var c=36+a.C;b[4]=c&255;b[5]=c>>8&255;b[6]=c>>16&255;b[7]=c>>24&255;b[8]=87;b[9]=65;b[10]=86;b[11]=69;b[12]=102;b[13]=109;b[14]=116;b[15]=32;b[16]=16;b[17]=0;b[18]=0;b[19]=0;b[20]=1;b[21]=0;b[22]=1;b[23]=0;b[24]=a.P&255;b[25]=a.P>>8&255;b[26]=a.P>>16&255;b[27]=a.P>>24&255;b[28]=b[24];b[29]=b[25];b[30]=b[26];b[31]=b[27];b[32]=1;b[33]=0;b[34]=8;b[35]=0;b[36]=100;b[37]=97;b[38]=116;b[39]=97;b[40]=a.C&255;b[41]=a.C>>8&255;b[42]=a.C>>16&
255;b[43]=a.C>>24&255;for(c=0;c<a.C;c++)b[44+c]=a.data[c];a="";var d,e,f,i=0;do d=b[i++],e=b[i++],f=b[i++],c=d>>2,d=(d&3)<<4,e==k?e=f=64:f==k?(d|=e>>4,e=(e&15)<<2,f=64):(d|=e>>4,e=(e&15)<<2|f>>6,f&=63),a+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(c)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(d)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(e)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(f);
while(i<b.length);return a};var re=document.createElement("link");re.type="text/css";re.rel="stylesheet";re.href="mac.css";$("head").append(re);ca=$(document.createElement("img"));ca.attr("src","images/mac/start.png");ca.css("width","100%");ca.css("height","100%");desktop.append(ca);
(function(a){$.ajax({url:a,Ka:function(a){a.overrideMimeType("text/html; charset=x-user-defined")},complete:function(a){w=new Ba(a.responseText);w.seek(1044,w.set);Aa=A(w);w.seek(1052,w.set);za=z(w);w.seek(1174,w.set);Da=z(w);a=(Da+za)*Aa;w.seek(a+Aa-2,w.set);var c=z(w);w.seek(a+c+2,w.set);c=A(w);Ea(a,c)}})})(gamename);setTimeout(Cb,10);
