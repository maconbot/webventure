var l=void 0,aa=null;function ba(){return function(){}}function ca(a){return function(){return a}}var m,da,ea=15,fa=24,ga=2;function ha(a){for(var b="",c=0;c<a.length;c++)switch(a.charCodeAt(c)){case 13:b+="<br />";break;case 63368:b+="&#224;";break;case 63374:b+="&#233;";break;default:b+=a.charAt(c)}return b}
function ia(a,b){var c={top:0,left:0,width:0,height:0},d;if(d=ja(a*2))if(c.width=d.width,c.height=d.height,ka(c,b,c)){a:{for(var e=c.top;e<c.top+c.height;e++)for(var g=(e>>1)*d.t,h,i=c.left;i<c.left+c.width;i++)if(h=d.data[g+(i>>2)],la&&(h=la[h]),h=h>>(i&2?0:4)&15){c=!0;break a}c=!1}return c}return!1}function ma(){if(!n)return 3E3;return na[n]}
function oa(a){var b={top:0,left:0,width:0,height:0},c=pa(a),d=0;c&&c.a&&(d=qa(c.a.children,a));if(d){d--;if(c.a.children[d].width==0||c.a.children[d].height==0)a=ra(a,c,!0),c.a.children[d].top=a.top,c.a.children[d].left=a.left,c.a.children[d].width=a.width,c.a.children[d].height=a.height;b.top=c.a.children[d].top;b.left=c.a.children[d].left;b.width=c.a.children[d].width;b.height=c.a.children[d].height}else(c=ja(a*2))?(b.top=p(a,2),b.left=p(a,1),b.width=c.width,b.height=c.height):(b.top=0,b.left=
0,b.width=0,b.height=0);return b}function sa(a){a=ja(a*2);var b=a.width,c=a.height,d=$(document.createElement("canvas"));d.addClass("proxy");d.attr("width",b);d.attr("height",c);desktop.append(d);a.m(d,0,0);return d}var ta=!1;function ua(a){a=va(a);var b=a.left,c=a.right-a.left;ta||(b*=2,c*=2);return wa(a.xa,b,a.top*2,c,(a.bottom-a.top)*2)};function xa(a){a[0]=="3"&&a[1]=="/"&&(a=a.substring(2));return ya(a.toLowerCase(),2)}var r=l;
function ya(a,b){r.seek(b*512+2,r.set);var c=t(r),d=u(r);(d&240)!=240&&(d&240)!=224&&fatal("Corrupt directory");r.seek(30,r.o);var e=u(r),g=u(r),h=u(r),i=1,f=0;d=a.indexOf("/");var j="";d>0&&(j=a.substring(d+1),a=a.substring(0,d));for(;f<h;){r.seek(b*512+e*i+4,r.set);d=u(r);if(d!=0){if(za(r,d&15).toLowerCase()==a){if((d&240)==208)return r.seek(16-(d&15),r.o),c=t(r),ya(j,c);r.seek(b*512+e*i+21,r.set);c=t(r);r.seek(2,r.o);e=Aa(r)&16777215;j=c;c=e;e="";switch(d&240){case 16:e=Ba(j,c);break;case 32:e=
Ca(j,c);break;case 48:d=j;j=c;c="";for(e=0;j>0;){r.seek(d*512+e,r.set);h=u(r);r.seek(d*512+e+256,r.set);h|=u(r)<<8;g=j;g>131072&&(g=131072);if(h)c+=Ca(h,g);else for(h=0;h<g;h++)c+=String.fromCharCode(0);j-=g;e++}e=c}return new Da(e)}f++}i++;i==g&&(i=0,b=c,r.seek(b*512+2,r.set),c=t(r))}return!1}function Ba(a,b){r.seek(a*512,r.set);return za(r,b)}
function Ca(a,b){for(var c="",d=0;b>0;){r.seek(a*512+d,r.set);var e=u(r);r.seek(a*512+d+256,r.set);e|=u(r)<<8;var g=b;g>512&&(g=512);if(e)c+=Ba(e,g);else for(e=0;e<g;e++)c+=String.fromCharCode(0);b-=g;d++}return c};var v,la,Ea=!0;function Fa(a,b,c){this.width=a>>1;this.height=b*2;this.t=c;this.J=a;this.Q=b;this.data=Array(b*c)}
Fa.prototype.m=function(a,b,c){if(!(this.width==0||this.height==0)){var d=a.get(0).getContext("2d"),e=0,g=0;b<0&&(e=-b,b=0);c<0&&(g=-c,c=0);var h=this.width,i=this.height;h+b>=a.width()&&(h=a.width()-b);i+c>=a.height()&&(i=a.height()-c);if(!(h==0||i==0)){a=d.getImageData(b,c,h,i);for(var f=g;f<i;f++)for(var j=(f>>1)*this.t,q=(f-g)*a.width*4,o,s=e;s<h;s++)o=this.data[j+(s>>2)],la&&(o=la[o]),(o=(o>>(s&2?0:4)&15)*3)?(a.data[q++]=v[o++],a.data[q++]=v[o++],a.data[q++]=v[o++],a.data[q++]=255):q+=4;d.putImageData(a,
b,c)}}};Fa.prototype.X=function(a,b){var c=this.data[(b>>1)*this.t+(a>>2)];la&&(c=la[c]);return(c>>(a&2?0:4)&15)!=0};function Ga(a,b,c,d){this.width=a;this.height=b;this.t=c;this.$=d;this.data=Array(b*c)}
Ga.prototype.m=function(a,b,c){if(!(this.width==0||this.height==0)){var d=a.get(0).getContext("2d"),e=this.width,g=this.height*2,h=0,i=0;b<0&&(h=-b,b=0);c<0&&(i=-c,c=0);e+b>=a.width()&&(e=a.width()-b);g+c>=a.height()&&(g=a.height()-c);if(!(e==0||g==0)){a=d.getImageData(b,c,e,g);for(var f=i;f<g;f++)for(var j=(f>>1)*this.t,q=(f-i)*a.width*4,o,s=h;s<e;s++)o=this.data[j+(s>>2)],o=(o>>6-(s&3)*2&3)*3,a.data[q++]=this.$[o++],a.data[q++]=this.$[o++],a.data[q++]=this.$[o++],a.data[q++]=255;d.putImageData(a,
b,c)}}};function Ha(){var a=xa(Ia(8)),b=va(6),c=b.right-b.left;b=b.bottom-b.top;a.seek(8,a.set);for(var d=[],e=0;e<4;e++)w(a),d.push(w(a)&255),d.push(w(a)&255),d.push(w(a)&255);var g=c+7>>2;c=new Ga(c,b,g,d);for(e=0;e<g*b;e++)c.data[e]=u(a);return c};function Ia(a){x.seek(368+a*32,x.set);a=u(x);return za(x,a)}function Ja(){x.seek(496,x.set);var a=u(x);return za(x,a)}function va(a){x.seek(a*10);a={};a.top=t(x);a.left=t(x);a.bottom=t(x);a.right=t(x);a.xa=t(x);return a}function Ka(){x.seek(1464,x.set);var a=u(x);return za(x,a)}function La(){x.seek(1008,x.set);var a=u(x);return ha(za(x,a))}var Ma=[0,80,208];function Na(a){x.seek(1128+Ma[a],x.set);a=u(x);return za(x,a)}var x;function Oa(a){for(a={A:a,k:0};Pa(a););}
function Pa(a){var b=!1;if(a.A[a.k]=="."||a.A[a.k+1]==".")return!1;a.A[a.k++]==" "&&(b=!0);a.k++;for(var c="";a.A[a.k]!="\\";)c+=a.A[a.k++];a.k++;for(var d="",e=!0,g=0,h=!1;a.A[a.k]!="\r";)switch(a.A[a.k++]){case "*":d=a.A[a.k++];a.k++;break;case "B":c="<b>"+c+"</b>";break;case "C":a.k++;break;case "D":e=!1;break;case "H":g=a.A.charCodeAt(a.k++)&255;g|=(a.A.charCodeAt(a.k++)&255)<<8;break;case "I":c="<i>"+c+"</i>";break;case "N":break;case "U":break;case "V":h=!0;break;case "X":break;default:fatal("Unknown menu control code")}a.k++;
if(b)return Qa(c,g,d,e),h&&Qa("-",0,"",!1),!0;y={id:g};y.b=$(document.createElement("div"));c=="@"?y.b.addClass("apple"):y.b.html(c);y.b.data("refCon",y);y.b.mousedown(function(a){if(z)return!1;Ra(a);return!1});y.r=$(document.createElement("table"));y.r.addClass("menu");y.body=$(document.createElement("tbody"));y.r.append(y.body);y.f=[];Sa.append(y.b);A.push(y);return!0};var Ta=2,Ua=24,Va=20,Wa=4,Xa=32,Ya=24,Za=34,$a=32,ab=2,bb=24,cb=22,db=24,eb;
function fb(){var a=hb(10,36,620,354);a.add(B([240,318,118,20],1,10,["OK"]));a.add(B([10,18,600,146],2,32790,["\u0001J\u0001\0Apple IIGS ^0\r\u0001J\u0001\0Written by:\r\u0001J\u0001\0\u0001S\u0001\0Fred Allen\u0001S\0\0\r\r\u0001J\u0001\0Artwork by:\r^1\r\r\u0001J\u0001\0\u0001S\u0004\0MacVenture Team\u0001S\0\0"]));a.add(B([10,164,300,136],3,32790,["^2"]));a.add(B([310,164,300,136],4,32790,["^3"]));a.add(B([10,294,600,22],5,32790,["\u0001J\u0001\0WebVenture &#169; 2011 Sean Kasun"]));a.param([La(),
Na(0),Na(1),Na(2)]);return a}function ib(){var a=hb(80,80,480,200);a.add(B([214,150,50,20],1,10,["OK"]));a.add(B([100,80,280,22],2,24,[0,0,100]));var b=B([20,30,440,30],3,15,["Sound Volume"]);b.b.css("text-align","center");a.add(b);return a}
function jb(a){var b=hb(92,146,456,108);b.add(B([24,68,120,22],1,10,["YES"]));b.add(B([168,68,120,22],3,10,["NO"]));b.add(B([312,68,120,22],2,10,["CANCEL"]));b.add(B([100,10,340,38],4,32790,["Save changes before ^0   "]));switch(a){case 0:b.param(["starting a new game?"]);break;case 1:b.param(["opening another game?"]);break;case 2:b.param(["quitting?"])}return b}
function kb(){var a=hb(50,70,520,228);a.add(B([12,8,298,30],4,22,["Load which game:"]));a.add(B([12,50,298,164],3,23,[]));a.add(B([320,158,190,24],1,10,["Open"]));a.add(B([320,194,190,24],2,10,["Cancel"]));return a}function lb(){var a=hb(50,70,540,256);a.add(B([22,50,298,124],4,23,[]));a.add(B([22,182,298,30],5,22,["Save game as:"]));a.add(B([22,200,290,36],3,17,[""]));a.add(B([330,186,200,22],1,10,["Save"]));a.add(B([330,222,200,22],2,10,["Cancel"]));return a}
function mb(){var a;a=C.left;for(var b=C.top,c=0;c<C.S;c++){a+=C.za;b+=C.Aa;if(b>=388)b=C.top;if(a>=628)a=C.left}C.S++;a={top:b,left:a,width:C.width,height:C.height};a=wa(C.xa,a.left,a.top,a.width,a.height);a.l=14;return a}function nb(){var a=hb(10,352,620,40);a.add(B([10,8,60,24],1,10,["Print"]));a.add(B([544,8,64,24],2,10,["Quit"]));a.add(B([84,10,450,26],3,32790,["\u0001J\u0001\0^0"]));a.param([Ka()]);return a}
function ob(){var a={};x.seek(70,x.set);a.bottom=t(x);a.left=t(x);a.width=t(x);a=B([a.left,a.bottom*2-20,a.width,20],5,17,[""]);a.b.css("text-align","center");return a}function pb(){var a=hb(140,136,430,128);a.add(B([14,56,122,26],1,10,["YES"]));a.add(B([260,56,152,26],3,10,["NO"]));a.add(B([14,92,398,26],4,10,["Yes, I'll use a saved game."]));a.add(B([14,10,398,38],2,15,["You have lost ... Would you\nlike to have another try?"]));return a}
function qb(){var a=hb(20,92,600,140);a.add(B([10,99,50,20],1,10,["OK"]));a.add(B([96,99,120,20],2,10,["CANCEL"]));a.add(B([10,10,580,36],4,22,["^0"]));a.add(B([10,56,580,28],3,17,[""]));return a}function wa(a,b,c,d,e){var g="dbox",h=!1,i=!1;a&32768&&(g="document");a&16&&(g="info");a&8192&&(g="alert");a&4096&&(h=!0);a&2048&&(i=!0);a=new rb(g,a&16384,a&256,h,i,b,c,d,e);a.hide();sb(a);return a};function tb(a){var b=ub(4,a);a=new Da(b);var c=l;switch(b.charCodeAt(7)){case 0:c=0;var d=w(a);for(b=0;b<d;b++)w(a),c+=w(a),w(a),w(a);a.seek(8,a.set);b=w(a);c=new vb(c,b);var e=0;for(b=0;b<d;b++){a.seek(2+b*8,a.set);var g=w(a),h=w(a);a.seek(g,a.set);for(g=0;g<h;g++)c.data[e++]=u(a)}break;case 2:e=0;b=w(a);for(c=0;c<b;c++)w(a),e+=w(a)*2,w(a),w(a);a.seek(8,a.set);c=w(a);e=new vb(e,c);for(c=h=0;c<b;c++){a.seek(2+c*8,a.set);var i=w(a);g=w(a)*2;a.seek(i,a.set);for(i=0;i<g;i++)i&1?d>>=4:d=u(a),e.data[h++]=
wb[d&15]}c=e}if(c==l)return 0;xb&&!yb&&c.play();return c.C/c.R}var wb=[127,126,124,120,112,96,64,1,128,129,131,135,143,159,191,255];function Da(a){this.set=0;this.o=1;this.end=2;this.data=a;this.length=a.length;this.s=this.h=0}function u(a){return a.data.charCodeAt(a.h++)&255}function w(a){var b=(a.data.charCodeAt(a.h++)&255)<<8;b|=a.data.charCodeAt(a.h++)&255;return b}function t(a){var b=a.data.charCodeAt(a.h++)&255;b|=(a.data.charCodeAt(a.h++)&255)<<8;return b}function zb(a){var b=(a.data.charCodeAt(a.h++)&255)<<16;b|=(a.data.charCodeAt(a.h++)&255)<<8;b|=a.data.charCodeAt(a.h++)&255;return b}
function Ab(a){var b=(a.data.charCodeAt(a.h++)&255)<<24;b|=(a.data.charCodeAt(a.h++)&255)<<16;b|=(a.data.charCodeAt(a.h++)&255)<<8;b|=a.data.charCodeAt(a.h++)&255;return b}function Aa(a){var b=a.data.charCodeAt(a.h++)&255;b|=(a.data.charCodeAt(a.h++)&255)<<8;b|=(a.data.charCodeAt(a.h++)&255)<<16;b|=(a.data.charCodeAt(a.h++)&255)<<24;return b}
function Bb(a){var b=(a.data.charCodeAt(a.h)&255)<<24;b|=(a.data.charCodeAt(a.h+1)&255)<<16;b|=(a.data.charCodeAt(a.h+2)&255)<<8;b|=a.data.charCodeAt(a.h+3)&255;return b}Da.prototype.seek=function(a,b){switch(b){case this.o:a+=this.h;break;case this.end:a+=this.length}this.h=a};function za(a,b){var c=a.h;a.h+=b;return a.data.substring(c,a.h)}Da.prototype.g=function(a){var b=Bb(this);b>>>=32-this.s-a;b&=(1<<a)-1;this.s+=a;this.s&16&&(this.s&=15,this.h+=2);return b};function Cb(){if(r!=l){D=0;x=xa("3/RESOURCE.DAT");da.remove();delete da;var a=Ia(6),b=xa(a);b.seek(8,b.set);v=[];for(var c=0;c<16;c++)w(b),v.push(w(b)&255),v.push(w(b)&255),v.push(w(b)&255);a=new Fa(1280,200,160);for(c=0;c<32E3;c++)a.data[c]=u(b);b=new rb("plainDBox",!1,!1,!1,!1,0,0,640,400);b.hide();sb(b);Db=b;Db.show();Eb(Db.port,0);a.m(Db.port,0,0);a=[3,1,2,0,5];for(b=0;b<5;b++){var d=Ia(a[b]);c=b;d=xa(d);var e={Oa:0,da:!1};d.seek(0,d.set);var g=d.length,h=Ab(d),i=l;if(h&2147483648){h&=2147483647;
e.da=!0;d.seek(h,d.set);e.O=w(d);g=Array(16);i=Array(16);for(var f=0;f<15;f++)g[f]=w(d);for(f=0;f<16;f++)i[f]=u(d);e.fa=Array(e.O);e.ea=Array(e.O);var j=0,q=l;for(f=0;f<e.O;f++){if((f&63)==0){d.seek(h+(f>>6)*6+48,d.set);var o=zb(d);q=zb(d);j=o&7;d.seek(h+(o>>3),d.set)}e.fa[f]=q;o=Ab(d)>>>16-j&65535;d.seek(-4,d.o);var s;for(s=0;s<16;s++)if(g[s]>o)break;o=i[s];j+=o&15;j&16&&(j&=15,d.seek(2,d.o));o>>=4;s=0;o&&(s=Bb(d),o--,o==0?s=0:s>>>=32-o-j,s&=(1<<o)-1,s|=1<<o,j+=o,j&16&&(j&=15,d.seek(2,d.o)),q+=s);
e.ea[f]=s}i=h-4}else g-=4,i=g,e.Ba=h,e.O=g/h|0;d.seek(4,d.set);e.data=za(d,i);Fb[c]=e}a={};x.seek(76,x.set);a.Ea=t(x);a.Ca=t(x);a.Ma=t(x);a.Da=t(x);t(x);a.Na=t(x);a.ja=[];for(b=0;b<24;b++)a.ja.push(u(x));a.ga=[];for(b=0;b<64;b++)a.ga.push(u(x));a.ha=[];for(b=0;b<64;b++)a.ha.push(t(x));a.ia=[];for(b=0;b<64;b++)a.ia.push(u(x));Gb=a.Ea;Hb=a.Ca;Ib=a.Da;Jb=a.ga;Kb=a.ha;Lb=a.ia;na=a.ja;C=va(5);C.top*=2;C.left*=2;C.width=C.right*2-C.left;C.height=C.bottom*2-C.top;C.Aa=20;C.za=20;C.S=0;Mb=[];Nb();F=[];G=
[];Ob=[];Pb=[];H=Array(Gb*2);var k;if(x.length!=1676){k={};x.seek(1676,x.set);k.length=t(x);k.ba=[];x.seek(1680,x.set);for(a=0;a<k.length;a++)k.ba.push(t(x));k.aa=[];x.seek(1868,x.set);for(a=0;a<k.length;a++)k.aa.push(u(x));k.ca=[];x.seek(1964,x.set);for(a=0;a<k.length;a++)k.ca.push(u(x))}k!=l&&(Qb=k,Rb=!1);k=[];x.seek(720,x.set);for(a=0;a<16;a++)k.push(t(x));v=[];for(a=0;a<16;a++)b=k[a]>>4&15,c=k[a]&15,v.push((k[a]>>8&15)*17),v.push(b*17),v.push(c*17);k=[];x.seek(752,x.set);for(a=0;a<256;a++)k.push(u(x));
la=k;x.seek(1092,x.set);eb=t(x);I=ua(3);I.l=9;I.addClass("commands");k=[{name:"3/SHADOWGATE",start:49390,N:-3272},{name:"3/DEJAVU",start:49390,N:-3272},{name:"3/DEJAVUII",start:4014,N:66},{name:"3/UNINVITED",start:49390,N:-3272}];for(a=0;a<k.length;a++)if(b=xa(k[a].name)){for(c=0;c<9;c++)b.seek(k[a].start+c*11,b.set),d=t(b)*2,e=t(b)*2,h=t(b)*2-d,g=t(b)*2-e,i=u(b),f=t(b),f=f&15|f&61440,b.seek(k[a].start+115+c*4,b.set),o=t(b),b.seek(o+k[a].N),j=t(b),q=za(b,j*h),b.seek(k[a].start+151+c*4,b.set),o=t(b),
b.seek(o+k[a].N),t(b),o=za(b,j*h),I.add(B([e,d,g,h],i,f,[j,q,o]));break}J=ua(0);J.l=10;Sb=ua(1);Sb.l=11;K=$(document.createElement("div"));K.addClass("textEdit");k=Sb;a=K;b=k.port.attr("width");c=k.port.attr("height");k.port.remove();a.css("top","0px");a.css("left","0px");a.css("width",b+"px");a.css("height",c+"px");k.port=a;k.c.append(a);Tb=ua(4);Tb.l=12;Tb.a={id:0,x:0,y:0,children:[{id:1,top:0,left:0,width:0,height:0}]};L=ua(2);Ub(L,"Exits");L.l=13;L.addClass("exits");Sa=$(document.createElement("div"));
Sa.addClass("menubar");k=[">L File \\H\u0002\0\r LNew\\V*NnH\0\u0081\r LOpen...\\*OoH\u0002\u0081\r LSave\\*SsH\u0003\u0081\r LSave As...\\VH\u0004\u0081\r LQuit\\*QqH\u0006\u0081\r.",">L Edit \\H\u0003\0\r LUndo\\DV*ZzH\0\u0082\r LCut\\D*XxH\u0002\u0082\r LCopy\\D*CcH\u0003\u0082\r LPaste\\DV*VvH\u0004\u0082\r LClear\\DH\u0005\u0082\r.",">L Special \\H\u0004\0\r LClean Up\\DH\0\u0083\r LMess Up\\DH\u0001\u0083\r."];x.seek(1024);a=za(x,48);Oa(a);for(a=0;a<k.length;a++)Oa(k[a]);y=A[0];Qa("Adjust Volume...",
2304,"",!0);var E;try{E="localStorage"in window&&window.localStorage!==aa}catch(gb){E=!1}E?(Vb(33026),Vb(33027),Vb(33028)):(Wb(33026),Wb(33027),Wb(33028));xb?Vb(2304):Wb(2304);Ub(Sb,"Untitled");if(gameparts.length>1)Xb=gameparts[1],E=window.JSON.parse(window.localStorage.getItem(Xb).toString()),Yb=E.gamedata,Zb=E.globals,K.html(E.text),Ub(Sb,Xb);else{E=xa(Ja());Yb=Array(Ib);Zb=Array(Hb);for(k=0;k<Ib;k++){Yb[k]=Array(Gb);for(a=0;a<Gb;a++)Yb[k][a]=w(E)}for(k=0;k<Hb;k++)Zb[k]=w(E)}$b();Xb==""&&(M=!0,
n=1,N.push(p(1,0)));setTimeout(ac,500)}else setTimeout(Cb,10)}function $b(){for(var a,b,c=0;c<Gb*2;c++)H[c]=0;for(c=Gb-1;c;c--)a=Yb[0][c],(b=H[a*2])&&(H[c*2+1]=b),H[a*2]=c}function bc(){for(var a=[],b=0;b<O.length;b++)(O[b].l==10||O[b].l==14)&&a.push(O[b]);for(b in a)cc(a[b]);C.S=0;G=[];Ob=[];Pb=[];Mb=[]}var H;function ac(){P(Db);delete Db;desktop.append(Sa);I.show();Tb.show();Q(Tb);L.show();Sb.show();J.show();D=1;dc=K.get(0).scrollHeight;K.scrollTop(dc-dc%ea);R(p(1,0),6,1);ec=!1;S()};var D=0,ec=!1,dc=0,F,N,n=l,M=!1,fc,gc,na,Mb,G,Ob,Pb,Db,hc,J,I,Sb,Tb,L,K,Gb,Hb,Ib,Lb,Kb,Jb,C,Yb,Zb,ic,T,U,Xb="";function jc(){}var kc=!1,lc=!1,mc=!1,z=!1,V=l;function S(){if(D==4)window.location="index.html";else{kc||nc(!1);if(M||kc){kc=!1;if(oc()){z=kc=!0;return}z=!1;if(nc(!0))return;pc()}(D==2||D==3)&&qc();rc()}}
function oc(){if(lc){lc=!1;if(sc(!1))return lc=!0;return!1}if(mc){mc=!1;if(sc(!1))return mc=!0;if(nc(!0))return!0}for(;N.length;){var a=N.shift();if((D==0||D==1)&&tc(a)){if(uc(n,a,T,U))return mc=!0;if(nc(!0))return!0}}if(n==1)ec=!1;else if((D==0||D==1)&&uc(3,n,T,U))return lc=!0;return!1}
function tc(a){if(!vc(a))return!1;if(ma()>=2&&T>0&&!vc(T))return!1;if(n!=5)return!0;if(!(p(a,3)==0&&p(a,4)==0&&p(a,5)==0))return!1;if(p(1,0)!=T)return!0;var b={top:0,left:0,width:J.port.width(),height:J.port.height()};b.top-=p(a,2)+U.e;b.left-=p(a,1)+U.d;return ia(a,b)}function vc(a){for(var b=p(1,0);a!=0&&a!=1&&a!=b;)a=p(a,0);return a}function nc(a){wc();var b=xc();yc(a)&&(b=!0);return b}
function qc(){if(D==2){zc();var a=Ha();ta=!0;hc=ua(6);hc.show();a.m(hc.port,0,0);Ac();D=4}else if(D==3){pc();var b=pb();b.show(function(a){P(b);switch(a){case 1:Bc();break;case 3:D=4;S();break;case 4:Cc()}})}}function Ac(){var a=document.createElement("link");a.type="text/css";a.rel="stylesheet";a.href="print.css";a.media="print";$("head").append(a);a=nb();z=!0;var b=ob();hc.add(b);b.b.focus();a.show(function(a){switch(a){case 1:b.b.blur();window.print();break;case 2:S()}})}
function wc(){for(;G.length;){for(var a,b=0,c=0;c<G.length;c++)if(G[c].id>b)b=G[c].id,a=c;b=G.splice(a,1)[0];switch(b.id){case 2:Dc(b.val);break;case 3:Ec(b.val);break;case 4:Fc(b.val);break;case 7:a:{c=b.val;var d=!1;b=c.b;var e=Mb.indexOf(b);e!=-1&&Mb.splice(e,1);if(b==1)c.parent!=p(b,0)&&G.push({id:12}),(c.la!=p(b,3)||c.ka!=p(b,4))&&Q(pa(b));else if(c.parent!=p(b,0)||c.x!=p(b,1)||c.y!=p(b,2)){if(e=Gc(c.parent)){d=e;if(d.a!=l&&(e=qa(d.a.children,b),e!=0))d.a.children.splice(e-1,1),d.a.u=!0,Q(d);
d=!0}if(e=pa(b)){d=e;if(d.a!=l){e=l;for(e=0;e<d.a.children.length&&b>d.a.children[e].id;e++);if(e==d.a.children.length||b!=d.a.children[e].id)d.a.children.splice(e,0,{id:b,top:0,left:0,width:0,height:0}),d.a.u=!0,Q(d)}d=!0}}else(c.la!=p(b,3)||c.ka!=p(b,4))&&Q(pa(b));p(b,8)&&(d||c.Ha!=p(b,11)||c.Fa!=p(b,9)||c.Ga!=p(b,10))&&Hc(b);c=Gc(b);d=b;for(e=p(1,0);d!=e;){if(d==0||!p(d,6))break;d=p(d,0)}if(d==e){if(c)break a;G.push({id:3,val:b})}else{if(!c)break a;G.push({id:4,val:b})}b=Ic(b,!0);for(e=0;e<b.length;e++)Jc(b[e])}break;
case 8:b=b.val;d=Gc(b.T);(c=e=Gc(b.K))||(c=d);if(c)d=W(b.K),Ub(c,d),Kc(b.K,c),c.a.u=!0,Q(c);break;case 12:R(J.a.id,6,0);R(p(1,0),6,1);break;case 13:for(;F.length;)Lc(F.pop());break;case 14:Mc(b.val)}}}function Dc(a){a&&(a=Gc(a))&&sb(a)}
function Ec(a){if(!Gc(a))if(a==p(1,0)){Kc(a,J);Q(J);Nc();var b=W(a);Ub(J,b.substr(0,1).toUpperCase()+b.substr(1))}else{var c={d:p(a,1),e:p(a,2)};Oc(pa(a),c);Pc(c);b=W(a);var d=mb();Ub(d,b);Kc(a,d);d.a.u=!0;var e=$(document.createElement("div"));e.addClass("zoom");desktop.append(e);e.css("top",c.e+"px");e.css("left",c.d+"px");e.css("width","0px");e.css("height","0px");e.animate({top:d.top+"px",left:d.left+"px",width:d.width+"px",height:d.height+"px"},500,"swing",function(){e.remove();d.show();Q(d)})}}
function Fc(a){var b=cc(Gc(a));if(b!=l&&(a=pa(b.b),a!=l)){var c=$(document.createElement("div"));c.addClass("zoom");desktop.append(c);c.css("top",b.top+"px");c.css("left",b.left+"px");c.css("width",b.width+"px");c.css("height",b.height+"px");b={d:p(b.b,1),e:p(b.b,2)};Oc(a,b);Pc(b);c.animate({top:b.e+"px",left:b.d+"px",width:"0px",height:"0px"},500,"swing",function(){c.remove();C.S--})}}
function Lc(a){var b=L.find(a);b&&(F.indexOf(a)!=-1?b.select():b.P());a==p(1,0)&&(F.indexOf(a)!=-1?L.addClass("selected"):L.removeClass("selected"));Q(pa(a))}function Mc(a){desktop.append(V);var b={d:p(a,1),e:p(a,2)};Oc(pa(a),b);Pc(b);V.animate({top:b.e+"px",left:b.d+"px"},300,"swing",function(){V.remove()})}
function xc(){if(K.get(0).scrollHeight==K.innerHeight()){var a=K.clone();a.css("height","");a.css("visibility","hidden");$("body").append(a);dc=a.innerHeight();a.remove();delete a}for(;Pb.length;)switch(a=Pb.splice(0,1)[0],a.id){case 1:K.append(a.val);ec=!0;break;case 2:K.append("<br/>");ec=!0;break;case 3:Qc=a.val[1],Rc=a.val[0],K.append(W(a.val[2])),ec=!0}return Sc()}
function Sc(){var a=K.get(0).scrollHeight,b=K.innerHeight();K.scrollTop(dc-dc%ea);dc=K.scrollTop()+b;Tc(Sb,{left:0,right:0,top:0,bottom:a});if(dc<a)return Uc(I),Vc(I),z=!0;return!1}function yc(a){for(var b=0;Ob.length;){var c=Ob.splice(0,1)[0];switch(c.id){case 1:tb(c.val);break;case 2:b=tb(c.val)}}if(a&&b)return setTimeout(S,b*1E3),!0;return!1}
function R(a,b,c){if(b==1||b==2)c=Math.round(c/ga);if(b==0){var d=c,e=Yb[0][a];if(d!=a){var g=e*2;for(e=H[g];e!=a;)g=e*2+1,e=H[g];H[g]=H[e*2+1];g=d*2;for(e=H[g];e&&e<=a;)g=e*2+1,e=H[g];H[a*2+1]=e;H[g]=a}}b<12&&Jc(a);d=Jb[b];c<<=Lb[b];c&=Kb[b];Yb[d][a]=c|Yb[d][a]&~Kb[b];ec=!0}function p(a,b){var c,d=Jb[b];if(d&128){var e=ub(0,a);if(e.length==0)return 0;d&=127;c=(e.charCodeAt(d*2)&255)<<8;c|=e.charCodeAt(d*2+1)&255}else c=Yb[d][a];c&=Kb[b];c=X(c>>Lb[b]);if(b==1||b==2)c*=ga;return c}
function Q(a){if(a!=l&&a.a!=l&&(a==Tb||p(a.a.id,6)==1)){a==J?ja(a.a.id*2).m(J.port,0,0):Eb(a.port,eb);for(var b=0;b<a.a.children.length;b++){var c=ra(a.a.children[b].id,a,0);a.a.children[b].top=c.top;a.a.children[b].left=c.left;a.a.children[b].width=c.width;a.a.children[b].height=c.height}if(a.l==14&&a.a.u){b={top:0,left:0,right:0,bottom:0};a.a.u=!1;for(c=0;c<a.a.children.length;c++){var d=a.a.children[c];b.right==b.left||b.bottom==b.top?(b.top=d.top,b.left=d.left,b.bottom=d.top+d.height,b.right=
d.left+d.width):(b.top=Math.min(b.top,d.top),b.left=Math.min(b.left,d.left),b.bottom=Math.max(b.bottom,d.top+d.height),b.right=Math.max(b.right,d.left+d.width))}if(b.right==b.left||b.bottom==b.top)b.top=a.a.y,b.left=a.a.x,b.bottom=a.a.y,b.right=a.a.x;else{if(b.left>a.a.x)b.left=a.a.x;if(b.right<a.a.x)b.right=a.a.x;if(b.top>a.a.y)b.top=a.a.y;if(b.bottom<a.a.y)b.bottom=a.a.y}Tc(a,b)}}}function Wc(a){a=I.find(a);a!=ic&&(ic&&ic.P(),(ic=a)&&a.select())}
function Xc(a,b,c){Rc=c;Qc=b;var d=qb();d.param([W(a)]);d.getItem(3).b.keypress(function(a){if(a.which==13)return d.getItem(1).b.mousedown(),!1;return!0});d.show(function(a){Yc=d.getItem(3).b.val();a==1?Y[0].state.push(65535):Y[0].state.push(0);P(d);S()})}
function Zc(a){switch(a){case 256:$c();break;case 32768:$c();break;case 33024:ad();break;case 33026:bd();break;case 33027:jc=ba();cd();break;case 33028:jc=ba();dd();break;case 33030:ed();break;case 2304:fd();break;case 33280:break;case 33282:break;case 33283:break;case 33284:break;case 33285:break;case 33536:gd(O[0]);break;case 33537:hd(O[0]);break;default:fatal("Unknown menuitem: "+a.toString(16))}}
function id(a,b){var c=a.c;if(c.l==2)c.Ka(a.q);else if(c==L)z||jd(a.q,L,b,!1);else if(a.q==255){c=I;for(var d=0;d<c.i.length;d++)c.i[d].q==255&&c.i[d].hide();kd(I);Sc()||S()}else if(!z){ic&&a!=ic&&ic.P();n=a.q;Wc(n);switch(ma()){case 0:M=!0;break;case 1:M=N.length!=0;break;case 2:T>0&&(M=!0)}S()}}
function jd(a,b,c,d){b==L&&(b=J);if(c.shiftKey)if(a)N.indexOf(a)!=-1?ld(a):md(a),S();else if(b.l==14)nd(b,c,d);else{if(N.length==0||b!=pa(N[0]))N.indexOf(b.a.id)!=-1?ld(b.a.id):md(b.a.id);S()}else if(n&&N.length&&ma()>1)a?od(a):od(b.a.id),S();else{if(!a)pd(),b.l==14?nd(b,c,d):a=b.a.id;if(a){var e;c.timeStamp-fc<=300&&c.target==gc?(fc=0,gc=l,e=!0):e=!1;e?(N.indexOf(a)==-1&&pd(),md(a),qd(a,b,c,d)):(N.indexOf(a)==-1&&pd(),md(a),rd(a,b,c,d))}}}
function nd(a,b,c){var d={},e={d:a.a.x,e:a.a.y};Oc(a,e);Pc(e);d.ra=e.d;d.sa=e.e;d.pa=e.d+a.port.width();d.qa=e.e+a.port.height();var g=$(document.createElement("div"));g.addClass("lasso");desktop.append(g);var h={d:b.pageX,e:b.pageY};Pc(h);g.css("top",h.e+"px");g.css("left",h.d+"px");g.css("width","0px");g.css("height","0px");$(document).mousemove(function(a){var b={d:a.pageX,e:a.pageY};Pc(b);a=Math.max(Math.min(h.d,b.d),d.ra);var c=Math.max(Math.min(h.e,b.e),d.sa),e=Math.min(Math.max(h.d,b.d),d.pa);
b=Math.min(Math.max(h.e,b.e),d.qa);g.css("top",c+"px");g.css("left",a+"px");g.css("width",e-a+"px");g.css("height",b-c+"px")});$(document).mouseup(function(e){$(document).unbind("mousemove");$(document).unbind("mouseup");e={d:e.pageX,e:e.pageY};Pc(e);var f=Math.max(Math.min(h.d,e.d),d.ra),j=Math.max(Math.min(h.e,e.e),d.sa),q=Math.min(Math.max(h.d,e.d),d.pa),o=Math.min(Math.max(h.e,e.e),d.qa);g.remove();e={d:f,e:j};var s=desktop.offset();e.e+=s.top;e.d+=s.left;sd(a,e);j={top:e.e,left:e.d,width:q-f,
height:o-j};f=[];for(q=0;q<a.a.children.length;q++){var k=a.a.children[q].id;if(!p(k,4))j.left=e.d-p(k,1),j.top=e.e-p(k,2),ia(k,j)&&f.push(k)}if(b.shiftKey){if(f.length==0){if(N.length==0||a!=pa(N[0]))N.indexOf(a.a.id)!=-1?ld(a.a.id):md(a.a.id)}else for(;f.length;)k=f.shift(),N.indexOf(k)!=-1?ld(k):md(k);S()}else{if(f.length==0)k=a.a.id;else for(;f.length;)k=f.shift(),md(k);jd(k,a,b,c)}})}
function qd(a,b,c,d){var e=c.pageX,g=c.pageY,h={d:0,e:0},i=!1;V=l;d&&$(document).mousemove(function(c){if(V==l){if(Math.abs(c.pageX-e)+Math.abs(c.pageY-g)<=7)return!1;i=!0;V=sa(a);var d=qa(b.a.children,a);if(d)d--,h.d=b.a.children[d].left,h.e=b.a.children[d].top;Oc(b,h);Pc(h);V.css("top",h.e+"px");V.css("left",h.d+"px")}d=V.position();V.css("top",d.top+(c.pageY-g)+"px");V.css("left",d.left+(c.pageX-e)+"px");e=c.pageX;g=c.pageY;return!1});$(document).mouseup(function(c){var e;d&&($(document).unbind("mousemove"),
V&&(e=V.position(),V.remove()));$(document).unbind("mouseup");if(i)U.d=e.left,U.e=e.top,c=td(c.pageX,c.pageY),T=c.id,U.d-=h.d,U.e-=h.e,c.c!=b&&(Oc(b,U),c.c&&sd(c.c,U)),n=5,Wc(5),M=!0;M||(od(a),n||(n=4,Wc(4),M=!0));S()})}
function rd(a,b,c,d){var e=c.pageX,g=c.pageY,h={d:0,e:0},i=!1;V=l;d&&$(document).mousemove(function(c){if(V==l){if(Math.abs(c.pageX-e)+Math.abs(c.pageY-g)<=7)return!1;i=!0;V=sa(a);var d=qa(b.a.children,a);if(d)d--,h.d=b.a.children[d].left,h.e=b.a.children[d].top;Oc(b,h);Pc(h);V.css("top",h.e+"px");V.css("left",h.d+"px")}d=V.position();V.css("top",d.top+(c.pageY-g)+"px");V.css("left",d.left+(c.pageX-e)+"px");e=c.pageX;g=c.pageY;return!1});$(document).mouseup(function(a){fc=a.timeStamp;gc=a.target;
var c;d&&($(document).unbind("mousemove"),V&&(c=V.position(),V.remove()));$(document).unbind("mouseup");if(i)U.d=c.left,U.e=c.top,a=td(a.pageX,a.pageY),T=a.id,U.d-=h.d,U.e-=h.e,a.c!=b&&(Oc(b,U),a.c&&sd(a.c,U)),n=5,Wc(5),M=!0;ma()==1&&(M=!0);S()})}function pd(){for(;N.length;)ld(N.shift())}function md(a){N.length&&pa(a)!=pa(N[0])&&pd();N.indexOf(a)==-1&&N.push(a);F.indexOf(a)==-1&&(F.push(a),Lc(a))}function ld(a){var b=N.indexOf(a);b!=-1&&N.splice(b,1);if((b=F.indexOf(a))!=-1)F.splice(b,1),Lc(a)}
function od(a){if(a!=T){var b;if(T>0&&(b=F.indexOf(T))!=-1&&N.indexOf(T)==-1)F.splice(b,1),Lc(T);T=a;F.indexOf(T)==-1&&(F.push(T),Lc(T));M=!0}}
function ra(a,b,c){var d=p(a,1),e=p(a,2),g=p(a,3);if(c||!g||!p(a,4)){var h=1;g||c?h=0:F.indexOf(a)!=-1&&(h=2);c=d-b.a.x;e-=b.a.y;var i=b.port;d=h;h={top:0,left:0,width:0,height:0};if(a=ja(a*2))switch(h={top:e,left:c,width:a.width,height:a.height},d){case 1:a.m(i,c,e);break;case 2:if(!(a.width==0||a.height==0)){d=i.get(0).getContext("2d");var f=g=0;c<0&&(g=-c,c=0);e<0&&(f=-e,e=0);var j=a.width,q=a.height;j+c>=i.width()&&(j=i.width()-c);q+e>=i.height()&&(q=i.height()-e);if(!(j==0||q==0)){i=d.getImageData(c,
e,j,q);for(var o=f;o<q;o++)for(var s=(o>>1)*a.t,k=(o-f)*i.width*4,E,gb=g;gb<j;gb++)E=a.data[s+(gb>>2)],la&&(E=la[E]),(E=E>>(gb&2?0:4)&15)?(E^=15,E*=3,i.data[k++]=v[E++],i.data[k++]=v[E++],i.data[k++]=v[E++],i.data[k++]=255):k+=4;d.putImageData(i,c,e)}}}h.top+=b.a.y;h.left+=b.a.x;return h}return{top:0,left:0,width:0,height:0}}function Nc(){for(var a=L,b=0;b<a.i.length;b++)a.i[b].b.remove();a.i=[];a=Ic(p(1,0),!0);for(b=0;b<a.length;b++)Hc(a[b])}
function Hc(a){if(p(a,8)){var b=L.find(a);b&&L.remove(b);!p(a,11)&&p(a,0)==p(1,0)&&L.add(B([p(a,9)*2,p(a,10)*2,14,12],a,2,[]))}}function $c(){var a=fb();z=!0;a.show(function(){P(a);z=!1})}function fd(){var a=ib(),b=ud();b==aa&&(b=50);vd(a.getItem(2),b);z=!0;a.show(function(){var b=a.getItem(2).value,d=new Date;d.setTime(d.getTime()+31536E6);document.cookie="webventure_volume="+escape(b)+"; expires="+d.toGMTString()+"; path=/";P(a);z=!1})}
function ad(){if(ec){var a=jb(0);z=!0;a.show(function(b){P(a);switch(b){case 1:jc=ad;cd();break;case 3:Bc();break;case 2:z=!1}})}else Bc()}function Bc(){Xb="";for(var a=xa(Ja()),b=0;b<Ib;b++)for(var c=0;c<Gb;c++)Yb[b][c]=w(a);for(b=0;b<Hb;b++)Zb[b]=w(a);bc();$b();Ub(Sb,"Untitled");K.html("");n=1;N=[p(1,0)];D=1;R(p(1,0),6,1);mc=lc=kc=ec=!1;Y=[];M=!0;S()}function bd(){if(ec){var a=jb(1);z=!0;a.show(function(b){P(a);switch(b){case 1:jc=bd;cd();break;case 3:Cc();break;case 2:z=!1}})}else Cc()}
function Cc(){var a=kb();z=!0;for(var b=a.getItem(3),c=l,d=0;d<window.localStorage.length;d++){var e=window.localStorage.key(d);if(e!=aa&&window.JSON.parse(window.localStorage.getItem(e).toString()).game==gamename){var g=$(document.createElement("div"));g.addClass("listitem");g.mousedown(ca(!1));g.click(function(a){c&&c.removeClass("active");c=$(a.target);c.addClass("active")});g.dblclick(function(){a.getItem(1).b.mousedown()});g.text(e.toString());b.b.append(g)}}a.show(function(b){switch(b){case 1:if(c==
l)break;Xb=c.text();P(a);z=!1;b=window.JSON.parse(window.localStorage.getItem(Xb).toString());Yb=b.gamedata;Zb=b.globals;bc();$b();Ub(Sb,Xb);K.html(b.text);dc=K.get(0).scrollHeight;K.scrollTop(dc);D=1;mc=lc=kc=!1;N=[];n=0;Y=[];R(p(1,0),6,1);ec=!1;S();break;case 2:P(a),z=!1}})}function cd(){Xb==""?dd():(window.localStorage.setItem(Xb,window.JSON.stringify({game:gamename,gamedata:Yb,globals:Zb,text:K.html()})),Ub(Sb,Xb),ec=!1,jc())}
function dd(){var a=lb();z=!0;a.getItem(3).b.keypress(function(b){if(b.which==13)return a.getItem(1).b.mousedown(),!1;return!0});for(var b=a.getItem(4),c=l,d=0;d<window.localStorage.length;d++){var e=window.localStorage.key(d);if(e!=aa&&window.JSON.parse(window.localStorage.getItem(e).toString()).game==gamename){var g=$(document.createElement("div"));g.addClass("listitem");g.mousedown(ca(!1));g.click(function(b){c&&c.removeClass("active");c=$(b.target);c.addClass("active");a.getItem(3).b.val(c.text())});
g.dblclick(function(){a.getItem(1).b.mousedown()});g.text(e.toString());b.b.append(g)}}a.show(function(b){switch(b){case 1:Xb=a.getItem(3).b.val();P(a);z=!1;cd();break;case 2:P(a),z=!1,jc()}})}function ed(){if(ec){var a=jb(2);z=!0;a.show(function(b){P(a);switch(b){case 1:jc=ed;cd();break;case 3:D=4;S();break;case 2:z=!1}})}else D=4,S()}
function ud(){for(var a=document.cookie.split(";"),b=0;b<a.length;b++){for(var c=a[b];c.charAt(0)==" ";)c=c.substring(1,c.length);if(c.indexOf("webventure_volume=")==0)return unescape(c.substring(18,c.length))}return aa}function Nb(){n=0;ic=l;N=[];T=0;U={d:0,e:0};Yc="";M=!1;fc=0}function Jc(a){if(Mb.indexOf(a)==-1){Mb.push(a);var b={b:a};b.parent=p(a,0);b.x=p(a,1);b.y=p(a,2);b.Fa=p(a,9);b.Ga=p(a,10);b.Ha=p(a,11);b.la=p(a,3);b.ka=p(a,4);G.push({id:7,val:b})}}
function wd(a){a&128&&(a=-((a^255)+1));return a}function X(a){a&32768&&(a=-((a^65535)+1));return a}function Gc(a){switch(a){case 65532:return L;case 65533:return Tb;case 65534:return Sb;case 65535:return I}var b;a:for(var c=0;c<O.length;c++)if((O[c].l==10||O[c].l==14)&&O[c].a!=l&&O[c].a.id==a){b=O[c];break a}return b}function Ic(a,b){for(var c=[],d=H[a*2];d;)c.push(d),b||(c=c.concat(Ic(d,!1))),d=H[d*2+1];return c}
function qa(a,b){var c;for(c=0;c<a.length&&a[c].id!=b;c++);if(c==a.length)return 0;return c+1}function pa(a){if(a==1)return Tb;if(a=p(a,0))return Gc(a)}function Kc(a,b){var c=Ic(a,!0);b.a={id:a,x:0,y:0,u:!1,children:[]};for(var d=32767,e=32767,g=0;g<c.length;g++)if(c[g]!=1){var h={id:c[g],top:0,left:0,width:0,height:0};if(b!=J){var i=p(h,1),f=p(h,2);d>i&&(d=i);e>f&&(e=f)}b.a.children.push(h)}if(d!=32767)b.a.x=d;if(e!=32767)b.a.y=e;if(b!=J)b.a.u=!0}
function pc(){for(ic!=l&&ic.P();F.length;)Lc(F.pop());Nb()}
function td(a,b){var c;a:if(c=desktop.offset(),b>=c.top&&b<c.top+fa&&a>=c.left&&a<c.left+desktop.width())c={id:1,c:l};else{for(c=0;c<O.length;c++){var d=O[c].X(a,b);if(d!=l){c=d;break a}}c={id:0,c:l}}d=0;if(c.c!=l)d=c.c.l;if(c.id==3&&(d==14||d==10))c.id=c.c.a.id;else switch(d){case 9:c.id=-1;break;case 11:c.id=-2;break;case 12:c.id=-3;break;case 13:c.id=-4;break;default:switch(c.id){case 0:c.id=-5;break;case 1:c.id=-6;break;case 2:c.id=-7;break;case 3:c.id=-8;break;case 4:c.id=-9;break;case 5:c.id=
-10;break;case 6:c.id=-11;break;default:c.id=-12}}return c}function Pc(a){var b=desktop.offset();a.e-=b.top;a.d-=b.left}function rc(){O[0].l==14?(Vb(33536),Vb(33537)):(Wb(33536),Wb(33537));Wb(33280);Wb(33282);Wb(33283);Wb(33284);Wb(33285)}function xd(){return{width:8,f:[]}}function yd(a,b,c){a.width+=8+c[b].width;a.f.push(b)}function zd(a,b,c){var d=a.f[b];a.width-=8+c[d].width;a.f.splice(b,1);return d}
function Ad(a,b,c,d){for(var e=b?32767:-32768,g=!0,h=-1,i=0;i<a.f.length;i++){var f=a.f[i],j=c[f].top+c[f].height>d.top+d.height||c[f].top>d.top;b&&(j=!j);g&&j&&(g=!1,e=b?32767:-32768);if(g||j)if(f=c[f].width/2|0,j=!1,j=b?e>=f:e<=f)h=i,e=f}return zd(a,h,c)}
function gd(a){var b={};b.top=a.a.y;b.left=a.a.x;b.width=a.port.width();b.height=a.port.height();for(var c=a.a.children,d=[],e=xd(),g=xd(),h=xd(),i=xd(),f=c.length-1;f>=0;f--){var j=c[f];j.top+j.height>b.top+b.height||j.top<b.top?yd(g,f,c):16+j.width>b.width?yd(g,f,c):yd(e,f,c)}for(var q=b.top+8;e.f.length||g.f.length;){var o=32767,s=-1,k=0;for(f=e.f.length-1;f>=0;f--)if(j=e.f[f],c[j].top<o)o=c[j].top,k=c[j].height,s=f;if(s!=-1){yd(h,zd(e,s,c),c);do{s=!0;for(f=e.f.length-1;f>=0;f--)if(j=e.f[f],c[j].top<
o+k){if(k<c[j].height)s=!1,k=c[j].height;yd(h,zd(e,f,c),c)}}while(!s)}for(;h.f.length&&h.width>b.width;)yd(e,Ad(h,!1,c,b),c);k=0;for(f=h.f.length-1;f>=0;f--)if(j=h.f[f],k<c[j].height)k=c[j].height;for(;g.f.length&&h.width<b.width;)if(f=Ad(g,!0,c,b),e.f.length&&c[f].height>k)yd(i,f,c);else if(h.width+8+c[f].width<=b.width){if(k<c[f].height)k=c[f].height;yd(h,f,c)}else yd(i,f,c);for(;i.f.length;)yd(g,zd(i,0,c),c);if(!h.f.length&&g.f.length){f=zd(g,0,c);if(k<c[f].height)k=c[f].height;yd(h,f,c)}for(j=
b.left+8;h.f.length;)f=Ad(h,!0,c,b),d.push({id:c[f].id,left:j,top:q+(k-c[f].height)/2|0}),j+=c[f].width+8;q+=k+8}Bd(d,a)}function hd(a){var b={};b.top=a.a.y;b.left=a.a.x;b.width=a.port.width();b.height=a.port.height();for(var c=a.a.children,d=[],e=0;e<c.length;e++){var g=b.height-c[e].height;g<0&&(g=0);var h=(Math.random()*g|0)+b.top;g=b.width-c[e].width;g<0&&(g=0);d.push({id:c[e].id,left:(Math.random()*g|0)+b.left,top:h})}Bd(d,a)}
function Bd(a,b){for(var c=0;c<a.length;c++){var d=oa(a[c].id);if(d.top!=a[c].top||d.left!=a[c].left)R(a[c].id,1,a[c].left),R(a[c].id,2,a[c].top)}b.a.u=!0;Q(b)};function ja(a){a=ub(3,a);if(!(a.length<2)){if(a.length==2)return ja((a.charCodeAt(0)&255)<<8|a.charCodeAt(1)&255);var b;a=new Da(a);var c=a.g(3),d,e;Ea&&a.g(2);e=a.g(1)?a.g(10):a.g(6);if((d=a.g(1)?a.g(10):a.g(6))&&e)switch(b=new Fa(d,e,d+15>>3&65534),c){case 0:c=b.J>>4;d=b.J&15;for(var g=0,h=0;h<b.Q;h++){for(var i=0;i<c;i++)e=Bb(a),a.seek(2,a.o),e>>>=16-a.s,b.data[g++]=e>>8&255,b.data[g++]=e&255;d&&(e=a.g(d),e<<=16-d,b.data[g++]=e>>8&255,b.data[g++]=e&255)}break;case 1:Cd(Dd,Ed,Fd,b,a);break;case 2:Cd(Gd,
Hd,Id,b,a);break;case 3:c=Array(17);for(g=0;(d=Jd[g++])!=255;){for(e=a.g(d);(d=Jd[g++])!=255;)c[Jd[g++]]=e%d,e=e/d|0;c[Jd[g++]]=e}c[16]=0;for(e=16;e>0;e--)for(d=e;d<=16;d++)c[d]>=c[e-1]&&c[d]++;for(e=16;e>=0;e--)if(c[e]==16){c[e]=255;break}g=Array(17);h=Array(17);d=a.g(2)+1;for(e=i=0;e<15;e++){if(e)for(;!a.g(1);)d++;h[e]=d;g[e]=i;i+=1<<16-d}for(g[15]=i;i&1<<16-d;)d++;g[16]=i|1<<16-d;h[15]=d;h[16]=d;Cd(g,h,c,b,a)}return b}}
function Eb(a,b){for(var c=a.width(),d=a.height(),e=a.get(0).getContext("2d"),g=e.getImageData(0,0,c,d),h=0;h<d;h++)for(var i=h*g.width*4,f=0;f<c;f++){var j=(b>>4*(f&3)&15)*3;g.data[i++]=v[j++];g.data[i++]=v[j++];g.data[i++]=v[j++];g.data[i++]=255}e.putImageData(g,0,0)}
function ka(a,b,c){var d=b.top,e=b.left,g=e+b.width;b=d+b.height;if(d<a.top)d=a.top;if(e<a.left)e=a.left;b>a.top+a.height&&(b=a.top+a.height);g>a.left+a.width&&(g=a.left+a.width);if(g<=e||b<=d)d=b=e=g=0;c.top=d;c.left=e;c.width=g-e;c.height=b-d;return c.height!=0}
var Dd=[0,8192,16384,20480,24576,28672,32768,36864,40960,45056,49152,53248,55296,57344,59392,61440,63488],Ed=[3,3,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5],Fd=[0,15,3,5,6,7,8,9,10,12,255,1,2,4,11,13,14],Gd=[0,16384,32768,49152,51200,53248,55296,57344,59392,61440,62464,62976,63488,64E3,64512,65024,65280],Hd=[2,2,2,5,5,5,5,5,5,6,7,7,7,7,7,8,8],Id=[255,0,15,1,3,7,14,12,8,6,2,4,9,13,11,10,5],Jd=[8,15,2,255,0,4,255,1,7,9,8,255,3,4,255,4,10,7,10,11,6,255,5,6,6,11,255,7,3,255,9,4,3,14,255,12,2,255,13,1,255,15,255];
function Cd(a,b,c,d,e){var g;Z=Kd=0;g=d.J&3?e.g(5):e.g(4)<<1;var h=0,i=d.J&15;i&&(i>>=2,h=i&1,i=2-(i>>1));for(var f=0,j=0;j<d.Q;j++){for(var q=0;q<d.J>>3;q++){var o=Ld(a,b,c,e)<<4;d.data[f++]=Ld(a,b,c,e)|o}h&&(d.data[f]=Ld(a,b,c,e)<<4);f+=i}if(q=d.J&3){f=d.t-i;var s=0;for(j=i=0;j<d.Q;j++)g&1?(s<q&&(o=Ld(a,b,c,e)<<4,i|=o>>>s,s+=4),s-=q,o=i,i<<=q,i&=255):(o=e.g(q),o<<=8-q),h&&(o>>>=4),d.data[f]|=o&255,f+=d.t}if(g&8)for(j=f=0;j<d.Q;j++)if(o=0,g&2)for(q=0;q<d.t;q++)d.data[f]^=o,o=d.data[f++];else for(q=
0;q<d.t;q++)i=d.data[f]^o,i^=i>>>4&15,d.data[f++]=i,o=i<<4&255;if(g&4){a=d.t*4;g&2&&(a*=2);f=0;g=a;for(b=0;b<d.Q*d.t-a;b++)d.data[g++]^=d.data[f++]}}var Kd=0,Z=0;
function Ld(a,b,c,d){if(Kd)return Kd--,Z=Z<<8&65280|Z>>8,Z&255;var e=Bb(d);e>>>=16-d.s;e&=65535;var g;for(g=0;g<16;g++)if(a[g+1]>e)break;d.s+=b[g];d.s&16&&(d.s&=15,d.seek(2,d.o));a=c[g];if(a==255)return d.g(1)||(Z&=255,Z|=Z<<8),Kd=d.g(3),Kd<3&&(Kd<<=4,Kd|=d.g(4),Kd<8&&(Kd<<=8,Kd|=d.g(8))),Kd-=2,Z=Z<<8&65280|Z>>8,Z&255;else Z<<=8,Z|=a,Z&=65535;return a};function Qa(a,b,c,d){var e={id:b},g=$(document.createElement("tr"));if(a[0]=="-"){var h=$(document.createElement("td"));h.attr("colspan","2");h.addClass("divider");h.append(document.createElement("hr"))}else g.addClass("menuitem"),h=$(document.createElement("td")),h.html(ha(a)),g.append(h),h=$(document.createElement("td")),c!=""&&(h.addClass("shortcut"),Md.push({key:c,id:b}),h.text(c));g.append(h);e.b=g;e.enabled=d;e.enabled||e.b.addClass("disabled");y.body.append(e.b);y.f.push(e)}
function Nd(a){for(var b=0;b<A.length;b++)for(var c=0;c<A[b].f.length;c++)if(A[b].f[c].id==a)return A[b].f[c]}function Vb(a){if(a=Nd(a))a.enabled=!0,a.b.removeClass("disabled")}function Wb(a){if(a=Nd(a))a.enabled=!1,a.b.addClass("disabled")}
function Ra(a){for(var b=$(a.target);b.data("refCon")==l;)b=b.parent();b.addClass("active");var c=b.data("refCon");desktop.append(c.r);a=b.position();c.r.css("top",a.top+fa+"px");c.r.css("left",a.left+"px");var d=-1;$(document).mousemove(function(a){var g=Sa.offset();if(a.pageX>=g.left&&a.pageY>g.top&&a.pageX<g.left+Sa.width()&&a.pageY<g.top+Sa.height()){for(var h=0;h<A.length;h++)if(g=A[h].b.offset(),a.pageX>=g.left&&a.pageX<g.left+A[h].b.outerWidth()){c.r.remove();b.removeClass("active");b=A[h].b;
b.addClass("active");c=b.data("refCon");desktop.append(c.r);g=b.position();c.r.css("top",g.top+fa+"px");c.r.css("left",g.left+"px");break}for(h=0;h<c.f.length;h++)c.f[h].b.removeClass("active");d=-1}else if(g=c.r.offset(),a.pageX>=g.left&&a.pageY>=g.top&&a.pageX<g.left+c.r.outerWidth()&&a.pageY<g.top+c.r.outerHeight())for(h=0;h<c.f.length;h++){var i=c.f[h].b;i.hasClass("menuitem")&&c.f[h].enabled&&(g=i.offset(),a.pageY>=g.top&&a.pageY<g.top+i.outerHeight()?(d=h,i.addClass("active")):i.removeClass("active"))}else{for(h=
0;h<c.f.length;h++)c.f[h].b.removeClass("active");d=-1}});$(document).mouseup(function(){$(document).unbind("mousemove");$(document).unbind("mouseup");c.r.remove();b.removeClass("active");d!=-1&&(c.f[d].b.removeClass("active"),Zc(c.f[d].id))})}var Sa,A=[],Md=[],y=l;
$("body").keydown(function(a){if(a.target.type=="text")return!0;if(!a.altKey)return!0;if(z)return!0;for(var b=0;b<Md.length;b++)if(Md[b].key.charCodeAt(0)==a.which){a=Md[b].id;for(b=0;b<A.length;b++)for(var c=0;c<A[b].f.length;c++)A[b].f[c].id==a&&A[b].f[c].enabled&&Od(A[b],a);return!1}return!0});function Od(a,b){a.b.addClass("active");setTimeout(function(){a.b.removeClass("active");Zc(b)},200)};function rb(a,b,c,d,e,g,h,i,f){var j=this;this.I=l;this.i=[];this.W=c;this.V=b;this.F=d;this.D=e;this.c=$(document.createElement("div"));this.c.addClass(a);if(a=="document"||a=="info"||a=="noGrowDoc"||a=="zoomDoc"||a=="rDoc4")b="<span></span>",this.title=$(document.createElement("div")),this.title.addClass("title"),this.title.mousedown(function(a){z||Pd(a.pageX,a.pageY,j);return!1}),this.V&&(b='<div class="close"></div>'+b),this.W&&(b+='<div class="resize"></div>'),this.title.html(b),this.V&&(b=this.title.children("div.close"),
b.mousedown(ca(!1)),b.click(function(){z||(j.l==14&&(pd(),md(j.a.id),n=2,Wc(2),M=!0),S());return!1})),this.W&&(b=this.title.children("div.resize"),b.mousedown(ca(!1)),b.click(function(){if(!z){var a=j.c.position();a={x:a.left,y:a.top};a.ya=j.c.width();a.d=j.c.height();j.I!=l?(j.c.css("left",j.I.x+"px"),j.c.css("top",j.I.y+"px"),j.resize(j.I.ya,j.I.d)):(j.c.css("left","0px"),j.c.css("top",fa+"px"),j.resize(desktop.width(),desktop.height()-fa));j.I=a}return!1})),this.c.append(this.title);this.port=
$(document.createElement("canvas"));this.port.mousedown(function(a){if(!z)switch(sb(j),j.l){case 9:Pd(a.pageX,a.pageY,j);break;case 10:case 14:var b=Qd(a.pageX,a.pageY,j),c=!1;b&&!p(b,3)&&(c=!0);jd(b,j,a,c);break;case 12:b=Qd(a.pageX,a.pageY,j);b==1?jd(b,j,a,!1):Pd(a.pageX,a.pageY,j);break;case 13:jd(p(1,0),j,a,!1)}return!1});this.port.attr("width",i);this.port.attr("height",f);this.c.append(this.port);this.top=h;this.height=f;this.left=g;this.width=i;a=="document"||a=="noGrowDoc"||a=="zoomDoc"||
a=="rDoc4"?(this.top-=Ua+Ta,this.height+=Ua,this.left-=Ta):a=="info"?(this.top-=Va+Ta,this.height+=Va,this.left-=Ta):a=="alert"?(this.top-=Wa*2,this.left-=Wa*2,this.width+=Wa,this.height+=Wa):(this.top-=Ta,this.left-=Ta);this.F&&(this.width+=Xa);this.D&&(this.height+=Ya);this.c.css("top",this.top+"px");this.c.css("left",this.left+"px");this.c.css("width",this.width+"px");this.c.css("height",this.height+"px");desktop.append(this.c);(this.F||this.D)&&Rd(this)}m=rb.prototype;
m.show=function(a){this.Ka=a;this.c.show();kd(this)};m.hide=function(){this.c.hide()};
function Ub(a,b){if(a.title!=l){var c=a.title.children("span");c.html("");if(b=="")c.hide();else{var d=a.c.css("display")=="none";a.c.show();c.css({position:"absolute",visibility:"hidden",display:"block"});var e=a.port.width();a.V&&(e-=30);a.W&&(e-=30);for(var g=0;g<b.length;g++)if(c.append(b.substring(g,g+1)),c.width()>e){c.html(b.substring(0,g-1));break}c.css({position:"",visibility:"",display:""});d&&a.c.hide()}}}m.addClass=function(a){this.c.addClass(a)};m.removeClass=function(a){this.c.removeClass(a)};
m.add=function(a){var b=this.port.position().top,c=parseInt(a.b.css("top"),10);a.b.css("top",c+b+"px");this.c.append(a.b);a.c=this;this.i.push(a);this.c.css("display")!="none"&&a.m()};m.remove=function(a){var b=this.i.indexOf(a);b!=-1&&this.i.splice(b,1);a.b.remove()};m.find=function(a){for(var b=0;b<this.i.length;b++)if(this.i[b].q==a)return this.i[b]};function Uc(a){for(var b=0;b<a.i.length;b++)a.i[b].hide()}function kd(a){for(var b=0;b<a.i.length;b++)a.i[b].q!=255&&a.i[b].show()}
function Vc(a){for(var b=0;b<a.i.length;b++)a.i[b].q==255&&a.i[b].show()}m.close=function(){this.c.remove()};function sd(a,b){var c=a.port.offset();b.d-=c.left+1;b.e-=c.top+2;a.a&&(b.d+=a.a.x,b.e+=a.a.y)}function Oc(a,b){var c=a.port.offset();b.d+=c.left+1;b.e+=c.top+2;a.a&&(b.d-=a.a.x,b.e-=a.a.y)}
function Rd(a){if(a.D){a.w=$(document.createElement("div"));a.w.addClass("hscroll");a.w.css("top",a.height-Ya+"px");a.w.css("width",a.width-32+"px");a.w.mousedown(function(b){sb(a);var d=a.p.offset().left;b.pageX<d?Sd(a,-20,0):Sd(a,20,0);return!1});var b=$(document.createElement("div"));b.addClass("leftarrow");b.mousedown(function(){Sd(a,-5,0);return!1});a.w.append(b);a.M=$(document.createElement("div"));a.M.addClass("rightarrow");a.M.css("left",a.width-Za-32+"px");a.M.mousedown(function(){Sd(a,5,
0);return!1});a.w.append(a.M);a.p=$(document.createElement("div"));a.p.addClass("slider");a.p.mousedown(function(b){Td(a,b.pageX,!0);return!1});a.w.append(a.p);a.c.append(a.w)}if(a.F)a.z=$(document.createElement("div")),a.z.addClass("vscroll"),a.z.css("left",a.width-Xa+"px"),a.z.css("height",a.height-24-Ua+"px"),a.z.mousedown(function(b){sb(a);var d=a.j.offset().top;b.pageY<d?Sd(a,0,-20):Sd(a,0,20);return!1}),b=$(document.createElement("div")),b.addClass("uparrow"),b.mousedown(function(){Sd(a,0,-5);
return!1}),a.z.append(b),a.L=$(document.createElement("div")),a.L.addClass("downarrow"),a.L.css("top",a.height-bb-db-Ua+"px"),a.L.mousedown(function(){Sd(a,0,5);return!1}),a.z.append(a.L),a.j=$(document.createElement("div")),a.j.addClass("slider"),a.j.mousedown(function(b){Td(a,b.pageY,!1);return!1}),a.z.append(a.j),a.c.append(a.z);a.G=$(document.createElement("div"));a.G.addClass("grow");a.G.css("top",a.height-db+"px");a.G.css("left",a.width-32+"px");a.G.mousedown(function(b){if(z)return!1;sb(a);
var d=$(document.createElement("div"));d.addClass("resizeProxy");desktop.append(d);var e=a.c.position();d.css("top",e.top+"px");d.css("left",e.left+"px");var g=a.c.width(),h=a.c.height();d.css("width",g+"px");d.css("height",h+"px");var i=b.pageX,f=b.pageY;$(document).mousemove(function(a){var b=g+(a.pageX-i),c=h+(a.pageY-f);if(b>100)g=b,d.css("width",g+"px"),i=a.pageX;if(c>100)h=c,d.css("height",h+"px"),f=a.pageY});$(document).mouseup(function(){$(document).unbind("mousemove");$(document).unbind("mouseup");
d.remove();a.resize(g,h)});return!1});a.c.append(a.G)}
m.resize=function(a,b){var c=this.width-this.port.width(),d=this.height-this.port.height();this.width=a;this.height=b;this.c.css("width",a+"px");this.c.css("height",b+"px");this.D&&(this.w.css("top",b-Ya+"px"),this.w.css("width",a-32+"px"),this.M.css("left",a-Za-32+"px"));this.F&&(this.z.css("left",a-Xa+"px"),this.z.css("height",b-24-Ua+"px"),this.L.css("top",b-bb-db-Ua+"px"));this.G.css("top",b-db+"px");this.G.css("left",a-32+"px");this.a?(this.port.attr("width",a-c),this.port.attr("height",b-d),
this.a.u=!0,Q(this)):(this.port.css("width",a-c),this.port.css("height",b-d),dc=this.port.get(0).scrollHeight,Sc())};
function Tc(a,b){if(a.l==11)a.j.data("min",b.top),a.j.data("max",b.bottom),Ud(a);else{if(b.left>a.a.x)b.left=a.a.x;if(b.right<a.a.x+a.port.width())b.right=a.a.x+a.port.width();if(b.top>a.a.y)b.top=a.a.y;if(b.bottom<a.a.y+a.port.height())b.bottom=a.a.y+a.port.height();a.D&&(a.p.data("min",b.left),a.p.data("max",b.right));a.F&&(a.j.data("min",b.top),a.j.data("max",b.bottom));if(a.D){var c=a.p.data("min"),d=a.p.data("max");if(c<d){var e=a.a.x-c,g=a.port.width();e=e*(a.port.width()-$a-Za)/(d-c)|0;c=g*
(a.port.width()-$a-Za-ab)/(d-c)|0;a.p.css("left",e+$a+"px");a.p.css("width",c+"px")}else a.p.css("left",$a+"px"),a.p.css("width",a.port.width()-$a-Za+"px")}a.F&&(c=a.j.data("min"),d=a.j.data("max"),c<d?(e=a.a.y-c,g=a.port.height(),e=e*(a.port.height()-cb-bb)/(d-c)|0,c=g*(a.port.height()-cb-bb-2)/(d-c)|0,a.j.css("top",e+cb+"px"),a.j.css("height",c+"px")):(a.j.css("top",cb+"px"),a.j.css("height",a.port.height()-cb-bb+"px")))}}
function Ud(a){var b=a.port.scrollTop(),c=a.j.data("min"),d=a.j.data("max");if(c<d){var e=b-c;b+=a.port.height();e=e*(a.height-Ua-db-cb-bb)/(d-c)|0;c=b*(a.height-Ua-db-cb-bb-2)/(d-c)|0;a.j.css("top",e+cb+"px");a.j.css("height",c-e+"px")}else a.j.css("top",cb+"px"),a.j.css("height",a.height-24-Ua-bb+"px")}
m.X=function(a,b){var c=this.c.offset();if(a>=c.left&&a<c.left+this.c.width()&&b>=c.top&&b<c.top+this.c.height()){c=this.port.offset();if(a>=c.left&&a<c.left+this.port.width()&&b>=c.top&&b<c.top+this.port.height())return{id:3,c:this};return{id:4,c:this}}};
function Vd(a){var b=a.port.get(0).getContext("2d"),c=a.port.width();a=a.port.height();c=b.getImageData(0,0,c,a);for(a=0;a<c.height;a++)for(var d=a*c.width*4,e=0;e<c.width;e++)c.data[d++]^=255,c.data[d++]^=255,c.data[d++]^=255,c.data[d++]=255;b.putImageData(c,0,0)}m.param=function(a){for(var b=0;b<this.i.length;b++)if(this.i[b].Y){var c=this.i[b].Y(),d;do if(d=c.indexOf("^"),d>=0){var e=c.substr(0,d);e+=a[parseInt(c.substr(d+1,1),10)];e+=c.substr(d+2);this.i[b].U(e);c=e}while(d>=0)}};
m.getItem=function(a){for(var b=0;b<this.i.length;b++)if(this.i[b].q==a)return this.i[b]};
function Sd(a,b,c){if(a.l==11){a.port.scrollTop(a.port.scrollTop()+c);Ud(a);var d=setTimeout(function(){Sd(a,b,c)},50)}else{a.a.x+=b;a.a.y+=c;if(a.D){var e=a.p.data("min"),g=a.p.data("max");if(a.a.x<e)a.a.x=e;if(a.a.x>g-a.port.width())a.a.x=g-a.port.width()}if(a.F){e=a.j.data("min");g=a.j.data("max");if(a.a.y<e)a.a.y=e;if(a.a.y>g-a.port.height())a.a.y=g-a.port.height()}a.a.u=!0;Q(a);d=setTimeout(function(){Sd(a,b,c)},50)}$(document).mouseup(function(){$(document).unbind("mouseup");clearTimeout(d)})}
function Td(a,b,c){if(a.l==11)Wd(a,b);else{var d=b;$(document).mousemove(function(b){if(c){a.a.x+=b.pageX-d;d=b.pageX;b=a.p.data("min");var g=a.p.data("max");if(a.a.x<b)a.a.x=b;if(a.a.x>g-a.port.width())a.a.x=g-a.port.width()}else{a.a.y+=b.pageY-d;d=b.pageY;b=a.j.data("min");g=a.j.data("max");if(a.a.y<b)a.a.y=b;if(a.a.y>g-a.port.height())a.a.y=g-a.port.height()}a.a.u=!0;Q(a)});$(document).mouseup(function(){$(document).unbind("mouseup");$(document).unbind("mousemove")})}}
function Wd(a,b){var c=b;$(document).mousemove(function(b){var e=a.j.data("min"),g=a.j.data("max");e=(b.pageY-c)*(g-e)/(a.height-Ua-db-cb-bb)|0;c=b.pageY;a.port.scrollTop(a.port.scrollTop()+e);Ud(a)});$(document).mouseup(function(){$(document).unbind("mouseup");$(document).unbind("mousemove")})}function zc(){for(var a=[],b=0;b<O.length;b++)O[b].l==14?a.push(O[b]):O[b].hide();for(b in a)cc(a[b])}function P(a){for(var b=0;b<O.length;b++)if(O[b]==a){a.close();O.splice(b,1);break}O.length&&sb(O[0])}
function cc(a){if(a!=l){var b=a.a.id;if(a.l==10)a.a={},Ub(a,"");else{var c={e:0,d:0},d={e:a.port.height(),d:a.port.width()};Oc(a,c);Oc(a,d);a.a={};P(a);return{b:b,top:c.e,left:c.d,width:d.d-c.d,height:d.e-c.e}}}}function sb(a){if(O[0]==a)a.c.addClass("active");else{O[0]!=l&&O[0].c.removeClass("active");for(var b=0;b<O.length;b++)O[b]==a&&O.splice(b,1);O.unshift(a);a.c.addClass("active");rc()}}function hb(a,b,c,d){a=new rb("alert",!1,!1,!1,!1,a,b,c,d);a.l=2;a.hide();sb(a);return a}var O=[];
function Pd(a,b,c){var d=a,e=b;sb(c);$(document).mousemove(function(a){var b=c.c.position();c.c.css("top",b.top+(a.pageY-e)+"px");c.c.css("left",b.left+(a.pageX-d)+"px");d=a.pageX;e=a.pageY});$(document).mouseup(function(a){$(document).unbind("mousemove");$(document).unbind("mouseup");var b=c.c.position();c.c.css("top",b.top+(a.pageY-e)+"px");c.c.css("left",b.left+(a.pageX-d)+"px")})}
function Qd(a,b,c){a={d:a,e:b};var d=0;b=c.a.children.length;for(sd(c,a);b>0&&d==0;){b--;d=a;var e=c.a.children[b],g=0,h;if(h=!p(e.id,4))h=d.d>=e.left&&d.e>=e.top&&d.d<e.left+e.width&d.e<e.top+e.height?!0:!1;if(h)if(h=l,h=ja(e.id*2)){if(h.X(d.d-e.left,d.e-e.top))g=e.id}else g=e.id;d=g}return d};var Xd=0;function uc(a,b,c,d){Y.unshift({ma:a,H:b,target:c,na:d.d,oa:d.e,state:new Yd,n:[],k:[]});return sc(!0)}function sc(a){for(;Y.length;)if(Zd(a))return!0;return!1}var Y=[];function Yd(){this.stack=Array(128);this.B=128}Yd.prototype.push=function(a){this.stack[--this.B]=$d(a)};Yd.prototype.pop=function(){return this.stack[this.B++]};function ae(a,b){return a.stack[a.B+b]}Yd.prototype.clear=function(){this.B=128};Yd.prototype.size=function(){return 128-this.B};
function $d(a){a<0&&(a=(-a^65535)+1);return a&65535}
function Zd(a){var b=!1;if(Y[0].wa||a){Y[0].wa=!1;if(b=a?be(0):ce())return Y[0].wa=!0;b=!0;Y[0].ua=0}if(Y[0].va||b){Y[0].va=!1;var c=[p(1,0)].concat(Ic(p(1,0),!1));for(a=Y[0].ua;a<c.length;a++){if(b=b?be(c[a]):ce())return Y[0].va=!0,Y[0].ua=a,!0;b=!0}}var d;if(Y[0].Z&&(Y[0].Z=!1,ce()))return Y[0].Z=!0;do{for(a=b=0;a<Y[0].n.length;a++)if(b<Y[0].n[a].v)b=Y[0].n[a].v,d=a;if(b&&(Y[0].n[d].v=0,be(Y[0].n[d].ta)))return Y[0].Z=!0}while(b);Y.shift();return!1}
function be(a){if(a=ub(1,a))return Y[0].k[0]=new Da(a),de();return!1}function ce(){var a=de();if(a)return a;Y[0].k.shift();if(Y[0].k.length)return ce()}var ee;
function de(){var a,b,c,d,e,g,h,i;d=Y[0].k[0];for(var f=Y[0].state;!(d.h>=d.length);)if(a=u(d),a&128)switch(a){case 128:b=f.pop();c=f.pop();f.push(p(b,c));break;case 129:b=f.pop();c=f.pop();a=X(f.pop());R(b,c,a);break;case 130:b=f.pop();c=f.pop();a=f.pop()!=0;f.push(fe(b,c,a));break;case 131:f.push(Y[0].ma);break;case 132:f.push(Y[0].H);break;case 133:f.push(Y[0].target);break;case 134:f.push(Y[0].na);break;case 135:f.push(Y[0].oa);break;case 136:f.push(u(d));break;case 137:f.push(w(d));break;case 138:c=
f.pop();f.push(Zb[c]);break;case 139:c=f.pop();a=X(f.pop());Zb[c]=a;ec=!0;break;case 140:a=f.pop();f.push(Math.round((a-1)*Math.random()));break;case 141:a=ae(f,0);f.push(a);break;case 142:c=f.pop();for(b=c-1;c--;)a=ae(f,b),f.push(a);break;case 143:b=f.pop();i=f.pop();f.push(b);f.push(i);break;case 144:c=f.pop();i=ae(f,c);b=ae(f,0);f.stack[f.B+c]=$d(b);f.stack[f.B+0]=$d(i);break;case 145:f.pop();break;case 146:a=ae(f,1);f.push(a);break;case 147:c=f.pop();a=ae(f,c);f.push(a);break;case 148:i=f.pop();
b=f.pop();a=f.pop();f.push(i);f.push(a);f.push(b);break;case 149:h=X(f.pop());c=X(f.pop());h%=c;h<0&&(h+=c);e=g=0;for(a=1;a<c;a++)e+=h,e>=c&&(e-=c),e==g?(g++,e=g):(i=ae(f,g),b=ae(f,e),f.stack[f.B+g]=$d(b),f.stack[f.B+e]=$d(i));break;case 150:f.clear();break;case 151:f.push(f.size());break;case 152:b=f.pop();i=f.pop();f.push(i+b);break;case 153:b=f.pop();i=f.pop();f.push(i-b);break;case 154:b=f.pop();i=f.pop();f.push(i*b);break;case 155:b=f.pop();i=f.pop();f.push(i/b|0);break;case 156:b=f.pop();i=
f.pop();f.push(i%b);break;case 157:b=f.pop();i=f.pop();f.push(i%b);f.push(i/b|0);break;case 158:a=X(f.pop());a<0&&(a=-a);f.push(a);break;case 159:a=-X(f.pop());f.push(a);break;case 160:b=f.pop();i=f.pop();f.push(i&b);break;case 161:b=f.pop();i=f.pop();f.push(i|b);break;case 162:b=f.pop();i=f.pop();f.push(i^b);break;case 163:a=f.pop();f.push(a^65535);break;case 164:b=f.pop();i=f.pop();f.push(i&&b?65535:0);break;case 165:b=f.pop();i=f.pop();f.push(i||b?65535:0);break;case 166:b=f.pop();i=f.pop();f.push(!i!=
!b?65535:0);break;case 167:a=f.pop();f.push(a==0?65535:0);break;case 168:b=f.pop();i=f.pop();f.push(i>b?65535:0);break;case 169:b=f.pop();i=f.pop();f.push(i<b?65535:0);break;case 170:b=X(f.pop());i=X(f.pop());f.push(i>b?65535:0);break;case 171:b=X(f.pop());i=X(f.pop());f.push(i<b?65535:0);break;case 172:b=f.pop();i=f.pop();f.push(i==b?65535:0);break;case 173:b=W(f.pop());i=W(f.pop());f.push(i==b?1:0);break;case 174:b=W(f.pop());a=W(f.pop());f.push(a.toLowerCase().indexOf(b.toLowerCase())!=-1?1:0);
break;case 175:b=W(f.pop());a=W(f.pop());b=RegExp("\\b"+b+"\\b","i");f.push(b.test(a)?65535:0);break;case 176:a=X(w(d));d.seek(a,d.o);break;case 177:a=wd(u(d));d.seek(a,d.o);break;case 178:a=X(w(d));b=f.pop();b!=0&&d.seek(a,d.o);break;case 179:a=wd(u(d));b=f.pop();b!=0&&d.seek(a,d.o);break;case 180:a=X(w(d));b=f.pop();b==0&&d.seek(a,d.o);break;case 181:a=wd(u(d));b=f.pop();b==0&&d.seek(a,d.o);break;case 182:a=f.pop();b=f.pop();Y[0].n.push({v:a,ta:b});break;case 183:b=f.pop();for(a=0;a<Y[0].n.length;a++)if(Y[0].n[a].ta==
b)Y[0].n[a].v=0;break;case 184:b=f.pop();for(a=0;a<Y[0].n.length;a++)if(Y[0].n[a].v<=b)Y[0].n[a].v=0;break;case 185:c=f.pop();for(a=0;a<Y[0].n.length;a++)if(Y[0].n[a].v>=c)Y[0].n[a].v=0;break;case 186:b=f.pop();c=f.pop();for(a=0;a<Y[0].n.length;a++)if(Y[0].n[a].v>=c&&Y[0].n[a].v<=b)Y[0].n[a].v=0;break;case 187:a={state:new Yd,n:[],k:[l]};a.ma=f.pop();a.H=f.pop();a.target=f.pop();a.na=f.pop();a.oa=f.pop();Y.unshift(a);if(Zd(!0))return!0;break;case 188:a=f.pop();Y[0].k.unshift(l);if(be(a))return!0;
Y[0].k.shift();d=Y[0].k[0];break;case 189:b=f.pop();G.push({id:2,val:b});break;case 190:a={};a.T=f.pop();a.K=f.pop();G.push({id:8,val:a});R(a.K,6,p(a.T,6));R(a.T,6,0);b=Ic(a.T,!0);for(c=0;c<b.length;c++)R(b[c],0,a.K);break;case 191:G.push({id:14,val:Y[0].H});break;case 192:G.push({id:13});break;case 193:a=f.pop();Pb.push({id:3,val:[Y[0].target,Y[0].H,a]});break;case 194:Pb.push({id:2});break;case 195:a=f.pop();Pb.push({id:3,val:[Y[0].target,Y[0].H,a]});Pb.push({id:2});break;case 196:a=f.pop();Pb.push({id:2});
Pb.push({id:3,val:[Y[0].target,Y[0].H,a]});Pb.push({id:2});break;case 197:a=f.pop();Pb.push({id:1,val:a});break;case 198:f.push(2);break;case 199:b=f.pop();Ob.push({id:1,val:b});break;case 200:b=f.pop();Ob.push({id:2,val:b});break;case 201:Ob.push({id:3});break;case 202:a=new Date;f.push(a.getFullYear());f.push(a.getMonth()+1);f.push(a.getDate());f.push(a.getHours());f.push(a.getMinutes());f.push(a.getSeconds());break;case 203:a=new Date;f.push(a.getDay()+1);break;case 204:a=f.pop()!=0;b=f.pop();
b=Ic(b,a);for(a=0;a<b.length;a++)f.push(b[a]);f.push(b.length);break;case 205:a=f.pop()!=0;b=f.pop();b=Ic(b,a);f.push(b.length);break;case 206:f.push(86);break;case 207:f.push(Xd);break;case 208:f.push(1);break;case 209:b=f.pop();a=oa(b);f.push(a.width);f.push(a.height);break;case 210:b=f.pop();i=f.pop();f.push(ge(b,i));break;case 211:a=b=f.pop();b=[];c=Ic(p(a,0),1);for(i=0;i<c.length;i++)a<c[i]&&ge(c[i],a)>=40&&b.push(c[i]);for(;b.length;)R(b.pop(),0,a);break;case 212:b=f.pop();a=Ic(b,1);b=p(b,0);
for(c=0;c<a.length;c++)R(a[c],0,b);break;case 213:return d=f.pop(),Xc(d,Y[0].H,Y[0].target),!0;case 214:Wc(f.pop());break;case 215:D=3;break;case 216:D=2;break;case 217:return d=f.pop(),setTimeout(S,d/60*1E3),!0;case 218:return nc(!1),Uc(I),Vc(I),z=!0;case 219:wc();break;case 220:if(yc(!0))return!0;break;case 221:if(xc())return!0;break;case 222:if(nc(!0))return!0;break;case 223:return d=f.pop(),Vd(J),setTimeout(he,d/60*1E3),!0;case 224:f.pop();break;case 225:f.pop();break;case 226:b=f.pop();i=f.pop();
i*=b;a=f.pop();i/=a;f.push(i|0);break;case 227:b=f.pop();a=l;if(a=p(1,0)==b?J:Gc(b))Dc(b),wc(),Q(a);break;case 228:f.push(0);break;case 229:break;case 230:f.push(ee);break;case 231:c=f.pop();b=1;for(a=ee=0;a<c;a++)ee+=b,ee^=b,b^=ee,ee^=b;break;default:fatal("Unknown function:"+a.toString(16))}else f.push(a);return!1}function he(){Vd(J);S()}function fe(a,b,c){var d=0;a=Ic(a,c);for(c=0;c<a.length;c++)d+=p(a[c],b);return d}
function ge(a,b){if(p(a,0)!=p(b,0))return 0;var c=oa(a),d=oa(b);if(ka(d,c,d))return d.width*d.height*100/(c.width*c.height)|0;return 0};function B(a,b,c,d){switch(c&255){case 2:return new ie(a,b,d);case 10:return new je(a,b,d);case 15:return new ke(a,b,d);case 17:return new le(a,b,d);case 22:return new me(a,b,d);case 23:return new ne(a,b);case 24:return new oe(a,b,d);case 25:return new pe(a,b,d);default:fatal("Unknown control:"+c.toString(16))}}
function ie(a,b,c){var d=this,e=$(document.createElement("canvas"));e.addClass("cbutton");e.css("left",a[0]+"px");e.css("top",a[1]+"px");e.attr("width",a[2]);e.attr("height",a[3]);e.mousedown(function(a){id(d,a);return!1});this.b=e;this.q=b;this.selected=!1;this.Ia=c[0];this.g=c[1];this.Ja=c[2]}m=ie.prototype;m.hide=function(){this.b.hide()};m.show=function(){this.b.show();this.m()};
m.m=function(){var a=this.b.get(0).getContext("2d"),b=this.b.width(),c=this.b.height(),d=a.getImageData(0,0,b,c),e=this.selected?this.Ja:this.g;if(e)for(var g=0;g<c;g++)for(var h=(g>>1)*this.Ia,i=g*d.width*4,f,j=0;j<b;j++)f=e.charCodeAt(h+(j>>2)),f=(f>>(j&2?0:4)&15)*3,d.data[i++]=v[f++],d.data[i++]=v[f++],d.data[i++]=v[f++],d.data[i++]=255;else for(g=0;g<c;g++){i=g*d.width*4;for(j=0;j<b;j++){f=this.selected?0:255;if(g<2||j<4||g>c-3||j>b-5)f=0;d.data[i++]=f;d.data[i++]=f;d.data[i++]=f;d.data[i++]=
255}}a.putImageData(d,0,0)};m.select=function(){this.selected=!0;this.m()};m.P=function(){this.selected=!1;this.m()};function je(a,b,c){var d=this,e=$(document.createElement("div"));e.addClass("button");e.css("left",a[0]+"px");e.css("top",a[1]+"px");e.css("width",a[2]+"px");e.css("height",a[3]+"px");e.css("line-height",a[3]+"px");e.html(c[0]);e.mousedown(function(a){id(d,a);return!1});this.b=e;this.q=b}je.prototype.hide=function(){this.b.hide()};je.prototype.show=function(){this.b.show()};
je.prototype.m=ba();function ke(a,b,c){this.b=$(document.createElement("div"));this.b.addClass("textblock");this.b.css("left",a[0]+"px");this.b.css("top",a[1]+"px");this.b.css("width",a[2]+"px");this.b.css("height",a[3]+"px");this.q=b;this.U(c[0])}m=ke.prototype;m.Y=function(){return this.b.html()};m.U=function(a){this.b.html(a)};m.hide=function(){this.b.hide()};m.show=function(){this.b.show()};m.m=ba();
function le(a,b,c){var d=$(document.createElement("input"));d.addClass("textinput");d.css("left",a[0]+"px");d.css("top",a[1]+"px");d.css("width",a[2]+"px");d.css("height",a[3]+"px");d.val(c[0]);d.mousedown(function(){d.focus();return!1});this.b=d;this.q=b}le.prototype.hide=function(){this.b.hide()};le.prototype.show=function(){this.b.show();this.b.focus()};le.prototype.m=ba();
function me(a,b,c){this.b=$(document.createElement("div"));this.b.addClass("textblock");this.b.css("left",a[0]+"px");this.b.css("top",a[1]+"px");this.b.css("width",a[2]+"px");this.b.css("height",a[3]+"px");this.q=b;this.U(c[0])}m=me.prototype;m.hide=function(){this.b.hide()};m.show=function(){this.b.show()};m.m=ba();m.Y=function(){return this.b.html()};
m.U=function(a){for(var b="",c=0;c<a.length;c++)a.charCodeAt(c)==1?(a.charCodeAt(c+1)==74&&this.b.css("text-align","center"),c+=2):b+=a.charCodeAt(c)==13?"<br />":a.charAt(c);this.b.html(b)};function ne(a,b){this.b=$(document.createElement("div"));this.b.addClass("list");this.b.css("left",a[0]+"px");this.b.css("top",a[1]+"px");this.b.css("width",a[2]+"px");this.b.css("height",a[3]+"px");this.q=b}ne.prototype.hide=function(){this.b.hide()};ne.prototype.show=function(){this.b.show()};
ne.prototype.m=ba();
function oe(a,b,c){var d=this;this.value=parseInt(c[0],10);this.q=b;this.min=parseInt(c[1],10);this.max=parseInt(c[2],10);this.width=a[2];b=$(document.createElement("div"));b.addClass("hscroll");b.css("left",a[0]+"px");b.css("top",a[1]+"px");b.css("width",a[2]+"px");b.css("height",a[3]+"px");this.b=b;c=$(document.createElement("div"));c.addClass("leftarrow");c.css("top","0px");c.css("left","0px");b.append(c);var e=$(document.createElement("div"));e.addClass("rightarrow");e.css("top","0px");e.css("left",
a[2]-Za+"px");b.append(e);var g=$(document.createElement("div"));g.addClass("slider");g.css("top","0px");g.css("left","50px");g.css("width","20px");b.append(g);this.La=g;b.mousedown(function(a){var b=g.offset().left;a.pageX<b?qe(d,-20):qe(d,20);return!1});c.mousedown(function(){qe(d,-5);return!1});e.mousedown(function(){qe(d,5);return!1});g.mousedown(function(a){re(d,a.pageX);return!1})}oe.prototype.hide=function(){this.b.hide()};oe.prototype.show=function(){this.b.show();this.m()};
oe.prototype.m=function(){this.La.css("left",(this.value*(this.width-$a-Za-20-ab)/(this.max-this.min)|0)+$a+"px")};function vd(a,b){a.value=parseInt(b,10);a.m()}function qe(a,b){a.value+=b;if(a.value<a.min)a.value=a.min;if(a.value>a.max)a.value=a.max;a.m();var c=setTimeout(function(){qe(a,b)},50);$(document).mouseup(function(){$(document).unbind("mouseup");clearTimeout(c)})}
function re(a,b){var c=b;$(document).mousemove(function(b){var e=(b.pageX-c)*(a.max-a.min)/(a.width-$a-Za-20-ab)|0;c=b.pageX;a.value+=e;if(a.value<a.min)a.value=a.min;if(a.value>a.max)a.value=a.max;a.m()});$(document).mouseup(function(){$(document).unbind("mouseup");$(document).unbind("mousemove")})}
function pe(a,b,c){var d=this,e=$(document.createElement("div"));e.addClass("sbutton");e.css("left",a[0]+"px");e.css("top",a[1]+"px");e.css("width",a[2]-2+"px");e.css("height",a[3]-2+"px");e.html(c[0]);e.mousedown(function(a){id(d,a);return!1});this.b=e;this.q=b}m=pe.prototype;m.hide=function(){this.b.hide()};m.show=function(){this.b.show()};m.select=function(){this.b.addClass("active")};m.P=function(){this.b.removeClass("active")};m.m=ba();var Rb=!0,Qb=l,Yc="",Qc=l,Rc=l;
function W(a){if(Rb){if(a&32768)a=Yc;else{a=new Da(ub(2,a));for(var b=!1,c="",d=w(a);d--;){var e=a.g(5);if(e>0&&e<27)e|=64,b&&(e|=32),b=!0,c+=String.fromCharCode(e);else switch(e){case 0:c+=" ";break;case 27:c+=b?".":",";b=!0;break;case 28:c+=b?"'":'"';b=!0;break;case 29:b=a.g(16);b&32768?(b^=65535,b=se(b)):b=W(b);b&&(c+=b);b=!0;break;case 30:c+=String.fromCharCode(a.g(8));b=!0;break;case 31:b=!b}}a=ha(c)}return a}if(a&32768)return Yc;a=new Da(ub(2,a));d="";for(c=a.g(1)?a.g(15):a.g(7);c--;){b=Bb(a);
b>>=16-a.s;b&=65535;for(e=0;e<Qb.length;e++)if(b<Qb.ba[e])break;a.s+=Qb.aa[e];a.s&16&&(a.s&=15,a.seek(2,a.o));b=Qb.ca[e];b==1&&(b=a.g(7));b!=2?d+=String.fromCharCode(b):(a.g(1)?(b=a.g(15),b=W(b)):(b=a.g(8),b=se(b)),b&&(d+=b))}return ha(d)}function se(a){var b,c;b=a&8?Rc:Qc;if((a&3)==1)b=p(b,7),c=["he","she","it"][(b>>4&3)+1-1];else switch(c=W(b),a&3){case 2:c=te(0,b)+c;break;case 3:c=te(2,b)+c}c.length&&a&4&&(c=c.substr(0,1).toUpperCase()+c.substr(1));return c}
function te(a,b){var c=p(b,7)>>a&3;if(c)return["the ","a ","an "][c-1];return""};function ub(a,b){if(b>=Fb[a].O)return"";var c,d;Fb[a].da?(c=Fb[a].ea[b],d=Fb[a].fa[b]):(c=Fb[a].Ba,d=b*c);if(!c)return"";return Fb[a].data.substring(d,d+c)}var Fb=[];var xb=!1,yb=!1;try{var ue=document.createElement("audio").canPlayType("audio/wav");xb=ue!=""&&ue!="no"}catch(ve){}function vb(a,b){this.data=Array(a);this.C=a;this.R=b}vb.prototype.play=function(){var a=$(document.createElement("audio"));$(document.body).append(a);a.attr("src","data:audio/x-wav;base64,"+we(this));var b=ud();b==aa&&(b=50);a.attr("volume",b/100);a.bind("ended",function(){a.remove()});a.get(0).play()};
function we(a){var b=Array(44+a.C);b[0]=82;b[1]=73;b[2]=70;b[3]=70;var c=36+a.C;b[4]=c&255;b[5]=c>>8&255;b[6]=c>>16&255;b[7]=c>>24&255;b[8]=87;b[9]=65;b[10]=86;b[11]=69;b[12]=102;b[13]=109;b[14]=116;b[15]=32;b[16]=16;b[17]=0;b[18]=0;b[19]=0;b[20]=1;b[21]=0;b[22]=1;b[23]=0;b[24]=a.R&255;b[25]=a.R>>8&255;b[26]=a.R>>16&255;b[27]=a.R>>24&255;b[28]=b[24];b[29]=b[25];b[30]=b[26];b[31]=b[27];b[32]=1;b[33]=0;b[34]=8;b[35]=0;b[36]=100;b[37]=97;b[38]=116;b[39]=97;b[40]=a.C&255;b[41]=a.C>>8&255;b[42]=a.C>>16&
255;b[43]=a.C>>24&255;for(c=0;c<a.C;c++)b[44+c]=a.data[c];a="";var d,e,g,h=0;do d=b[h++],e=b[h++],g=b[h++],c=d>>2,d=(d&3)<<4,e==l?e=g=64:g==l?(d|=e>>4,e=(e&15)<<2,g=64):(d|=e>>4,e=(e&15)<<2|g>>6,g&=63),a+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(c)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(d)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(e)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(g);
while(h<b.length);return a};var xe=document.createElement("link");xe.type="text/css";xe.rel="stylesheet";xe.href="gs.css";$("head").append(xe);da=$(document.createElement("img"));da.attr("src","images/gs/start.png");da.css("width","100%");da.css("height","100%");desktop.append(da);
(function(a){$.ajax({url:a,beforeSend:function(a){a.overrideMimeType("text/html; charset=x-user-defined")},complete:function(a){a=new Da(a.responseText);var c=a.data.substring(a.h,a.h+4);a.h+=4;c!="2IMG"&&fatal("Not a valid 2mg file");a.seek(12,a.set);Aa(a)!=1&&fatal("Not in ProDOS format");a.seek(20,a.set);c=Aa(a)*512;var d=Aa(a);a.seek(d,a.set);r=new Da(za(a,c));delete a}})})(gamename);setTimeout(Cb,10);
